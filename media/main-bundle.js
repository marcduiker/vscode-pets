/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/common/names.ts":
/*!*****************************!*\
  !*** ./src/common/names.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ROCKY_NAMES = exports.ZAPPY_NAMES = exports.DUCK_NAMES = exports.SNAKE_NAMES = exports.TOTORO_NAMES = exports.CLIPPY_NAMES = exports.CRAB_NAMES = exports.DOG_NAMES = exports.CAT_NAMES = exports.PET_NAMES = void 0;
exports.PET_NAMES = new Map([
    [1, 'Bella'],
    [2, 'Charlie'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
    [11, 'Milo'],
    [12, 'Daisy'],
    [13, 'Archie'],
    [14, 'Ollie'],
    [15, 'Rosie'],
    [16, 'Lola'],
    [17, 'Frankie'],
    [18, 'Toby'],
    [19, 'Roxy'],
    [20, 'Poppy'],
    [21, 'Luna'],
    [22, 'Jack'],
    [23, 'Millie'],
    [24, 'Teddy'],
    [25, 'Harry'],
    [26, 'Cooper'],
    [27, 'Bear'],
    [28, 'Rocky'],
    [29, 'Alfie'],
    [30, 'Hugo'],
    [31, 'Bonnie'],
    [32, 'Pepper'],
    [33, 'Lily'],
    [34, 'Tilly'],
    [35, 'Leo'],
    [36, 'Maggie'],
    [37, 'George'],
    [38, 'Mia'],
    [39, 'Marley'],
    [40, 'Harley'],
    [41, 'Chloe'],
    [42, 'Lulu'],
    [43, 'Missy'],
    [44, 'Jasper'],
    [45, 'Billy'],
    [46, 'Nala'],
    [47, 'Monty'],
    [48, 'Ziggy'],
    [49, 'Winston'],
    [50, 'Zeus'],
    [51, 'Zoe'],
    [52, 'Stella'],
    [53, 'Sasha'],
    [54, 'Rusty'],
    [55, 'Gus'],
    [56, 'Baxter'],
    [57, 'Dexter'],
    [58, 'Diesel'],
    [59, 'Willow'],
    [60, 'Barney'],
    [61, 'Bruno'],
    [62, 'Penny'],
    [63, 'Honey'],
    [64, 'Milly'],
    [65, 'Murphy'],
    [66, 'Simba'],
    [67, 'Holly'],
    [68, 'Benji'],
    [69, 'Henry'],
    [70, 'Lilly'],
    [71, 'Pippa'],
    [72, 'Shadow'],
    [73, 'Sam'],
    [74, 'Buster'],
    [75, 'Lucky'],
    [76, 'Ellie'],
    [77, 'Duke'],
    [78, 'Jessie'],
    [79, 'Cookie'],
    [80, 'Harvey'],
    [81, 'Bruce'],
    [82, 'Jax'],
    [83, 'Rex'],
    [84, 'Louie'],
    [85, 'Bentley'],
    [86, 'Jet'],
    [87, 'Banjo'],
    [88, 'Beau'],
    [89, 'Ella'],
    [90, 'Ralph'],
    [91, 'Loki'],
    [92, 'Lexi'],
    [93, 'Chester'],
    [94, 'Sophie'],
    [95, 'Chilli'],
    [96, 'Billie'],
    [97, 'Louis'],
    [98, 'Scout'],
    [99, 'Charlie'],
    [100, 'Cleo'],
    [101, 'Purfect'],
    [102, 'Spot'],
    [103, 'Harry'],
]);
exports.CAT_NAMES = exports.PET_NAMES;
exports.DOG_NAMES = exports.PET_NAMES;
exports.CRAB_NAMES = new Map([
    [1, 'Ferris'],
    [2, 'Pinchy'],
    [3, 'Grabby'],
    [4, 'Big Red'],
    [5, 'Crabby'],
    [6, 'Buddy'],
    [7, 'Ruby Red'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey']
]);
exports.CLIPPY_NAMES = new Map([
    [1, 'Clippy'],
    [2, 'Karl Klammer'],
    [3, 'Clippy Jr.'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.TOTORO_NAMES = new Map([
    [1, 'Totoro'],
    [2, 'ãƒˆãƒˆãƒ­'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.SNAKE_NAMES = new Map([
    [1, 'Sneaky'],
    [2, 'Mr Slippery'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.DUCK_NAMES = new Map([
    [1, 'Quacky'],
    [2, 'Floaty'],
    [3, 'Duck'],
    [4, 'Molly'],
    [5, 'Sunshine'],
    [6, 'Buddy'],
    [7, 'Chirpy'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.ZAPPY_NAMES = new Map([
    [1, 'Zappy'],
    [2, 'Zippy'],
    [3, 'Zappy Jr.'],
    [4, 'Zoppy'],
    [5, 'Zuppy'],
    [6, 'Zeppy'],
    [7, 'Big Z'],
    [8, 'Little z'],
    [9, 'The Flash'],
    [10, 'Thor'],
]);
exports.ROCKY_NAMES = new Map([
    [1, 'Rocky'],
    [2, 'The Rock'],
    [3, 'Quartzy'],
    [4, 'Rocky I'],
    [5, 'Rocky II'],
    [6, 'Rocky III'],
    [7, 'Pebbles Sr.'],
    [8, 'Big Granite'],
    [9, 'Boulder'],
    [10, 'Rockefeller'],
]);


/***/ }),

/***/ "./src/panel/pets.ts":
/*!***************************!*\
  !*** ./src/panel/pets.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createPet = exports.InvalidPetException = exports.Rocky = exports.Zappy = exports.Crab = exports.RubberDuck = exports.Clippy = exports.Snake = exports.Dog = exports.Cat = exports.Totoro = exports.PetCollection = exports.PetElement = exports.InvalidStateException = void 0;
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const names_1 = __webpack_require__(/*! ../common/names */ "./src/common/names.ts");
class InvalidStateException {
}
exports.InvalidStateException = InvalidStateException;
class PetElement {
    constructor(el, collision, pet, color, type) {
        this.el = el;
        this.collision = collision;
        this.pet = pet;
        this.color = color;
        this.type = type;
    }
}
exports.PetElement = PetElement;
class PetCollection {
    constructor() {
        this._pets = new Array(0);
    }
    pets() {
        return this._pets;
    }
    push(pet) {
        this._pets.push(pet);
    }
    reset() {
        this._pets = [];
    }
    locate(name) {
        return this._pets.find((collection, value, obj) => {
            return collection.pet.name() === name;
        });
    }
    seekNewFriends() {
        if (this._pets.length <= 1) {
            return [];
        } // You can't be friends with yourself.
        var messages = new Array(0);
        this._pets.forEach(petInCollection => {
            if (petInCollection.pet.hasFriend()) {
                return;
            } // I already have a friend!
            this._pets.forEach(potentialFriend => {
                if (potentialFriend.pet.hasFriend()) {
                    return;
                } // Already has a friend. sorry.
                if (!potentialFriend.pet.canChase()) {
                    return;
                } // Pet is busy doing something else.
                if (potentialFriend.pet.left() > petInCollection.pet.left() &&
                    potentialFriend.pet.left() < petInCollection.pet.left() + petInCollection.pet.width()) {
                    // We found a possible new friend..
                    console.log(petInCollection.pet.name(), " wants to be friends with ", potentialFriend.pet.name(), ".");
                    if (petInCollection.pet.makeFriendsWith(potentialFriend.pet)) {
                        messages.push(`${petInCollection.pet.name()} (${petInCollection.pet.emoji()}): I'm now friends â¤ï¸ with ${potentialFriend.pet.name()} (${potentialFriend.pet.emoji()})`);
                    }
                }
            });
        });
        return messages;
    }
}
exports.PetCollection = PetCollection;
function calculateSpriteWidth(size) {
    if (size === "nano" /* nano */) {
        return 30;
    }
    else if (size === "medium" /* medium */) {
        return 55;
    }
    else if (size === "large" /* large */) {
        return 110;
    }
    else {
        return 30; // Shrug
    }
}
class BasePetType {
    constructor(spriteElement, collisionElement, size, left, bottom, petRoot, floor, name, speed) {
        this.label = "base";
        this.sequence = { startingState: "sit-idle" /* sitIdle */, sequenceStates: [] };
        this.el = spriteElement;
        this.collision = collisionElement;
        this.petRoot = petRoot;
        this._floor = floor;
        this._left = left;
        this._bottom = bottom;
        this.initSprite(size, left, bottom);
        this.currentStateEnum = this.sequence.startingState;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
        this._name = name;
        this._speed = speed;
    }
    initSprite(petSize, left, bottom) {
        this.el.style.left = `${left}px`;
        this.el.style.bottom = `${bottom}px`;
        this.el.style.width = "auto";
        this.el.style.height = "auto";
        this.el.style.maxWidth = `${calculateSpriteWidth(petSize)}px`;
        this.el.style.maxHeight = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.left = `${left}px`;
        this.collision.style.bottom = `${bottom}px`;
        this.collision.style.width = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.height = `${calculateSpriteWidth(petSize)}px`;
    }
    left() {
        return this._left;
    }
    bottom() {
        return this._bottom;
    }
    positionBottom(bottom) {
        this._bottom = bottom;
        this.el.style.bottom = `${this._bottom}px`;
        this.el.style.bottom = `${this._bottom}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    ;
    positionLeft(left) {
        this._left = left;
        this.el.style.left = `${this._left}px`;
        this.el.style.left = `${this._left}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    width() {
        return this.el.width;
    }
    floor() {
        return this._floor;
    }
    getState() {
        return { currentStateEnum: this.currentStateEnum };
    }
    speed() {
        return this._speed;
    }
    recoverFriend(friend) {
        // Recover friends..
        this._friend = friend;
    }
    recoverState(state) {
        // TODO : Resolve a bug where if it was swiping before, it would fail
        // because holdState is no longer valid.
        this.currentStateEnum = state.currentStateEnum;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
        if (!states_1.isStateAboveGround(this.currentStateEnum)) {
            // Reset the bottom of the sprite to the floor as the theme
            // has likely changed.
            this.positionBottom(this.floor());
        }
    }
    canSwipe() {
        return !states_1.isStateAboveGround(this.currentStateEnum);
    }
    canChase() {
        return !states_1.isStateAboveGround(this.currentStateEnum) && this.currentStateEnum !== "chase" /* chase */;
    }
    swipe() {
        if (this.currentStateEnum === "swipe" /* swipe */) {
            return;
        }
        this.holdState = this.currentState;
        this.holdStateEnum = this.currentStateEnum;
        this.currentStateEnum = "swipe" /* swipe */;
        this.currentState = states_1.resolveState(this.currentStateEnum, this);
    }
    chase(ballState, canvas) {
        this.currentStateEnum = "chase" /* chase */;
        this.currentState = new states_1.ChaseState(this, ballState, canvas);
    }
    faceLeft() {
        this.el.style.webkitTransform = "scaleX(-1)";
    }
    faceRight() {
        this.el.style.webkitTransform = "scaleX(1)";
    }
    setAnimation(face) {
        const newFace = `${this.petRoot}_${face}_8fps.gif`;
        if (this.el.src === newFace) {
            return;
        }
        this.el.src = newFace;
    }
    chooseNextState(fromState) {
        // Work out next state
        var possibleNextStates = undefined;
        for (var i = 0; i < this.sequence.sequenceStates.length; i++) {
            if (this.sequence.sequenceStates[i].state === fromState) {
                possibleNextStates = this.sequence.sequenceStates[i].possibleNextStates;
            }
        }
        if (!possibleNextStates) {
            throw new InvalidStateException();
        }
        // randomly choose the next state
        const idx = Math.floor(Math.random() * possibleNextStates.length);
        return possibleNextStates[idx];
    }
    nextFrame() {
        if (this.currentState.horizontalDirection === states_1.HorizontalDirection.left) {
            this.faceLeft();
        }
        else if (this.currentState.horizontalDirection === states_1.HorizontalDirection.right) {
            this.faceRight();
        }
        this.setAnimation(this.currentState.spriteLabel);
        // What's my buddy doing?
        if (this.hasFriend() && this.currentStateEnum !== "chase-friend" /* chaseFriend */) {
            if (this.friend().isPlaying() && !states_1.isStateAboveGround(this.currentStateEnum)) {
                this.currentState = states_1.resolveState("chase-friend" /* chaseFriend */, this);
                this.currentStateEnum = "chase-friend" /* chaseFriend */;
                return;
            }
        }
        var frameResult = this.currentState.nextFrame();
        if (frameResult === states_1.FrameResult.stateComplete) {
            // If recovering from swipe..
            if (this.holdState && this.holdStateEnum) {
                this.currentState = this.holdState;
                this.currentStateEnum = this.holdStateEnum;
                this.holdState = undefined;
                this.holdStateEnum = undefined;
                return;
            }
            var nextState = this.chooseNextState(this.currentStateEnum);
            this.currentState = states_1.resolveState(nextState, this);
            this.currentStateEnum = nextState;
        }
        else if (frameResult === states_1.FrameResult.stateCancel) {
            if (this.currentStateEnum === "chase" /* chase */) {
                var nextState = this.chooseNextState("idle-with-ball" /* idleWithBall */);
                this.currentState = states_1.resolveState(nextState, this);
                this.currentStateEnum = nextState;
            }
            else if (this.currentStateEnum === "chase-friend" /* chaseFriend */) {
                var nextState = this.chooseNextState("idle-with-ball" /* idleWithBall */);
                this.currentState = states_1.resolveState(nextState, this);
                this.currentStateEnum = nextState;
            }
        }
    }
    hasFriend() {
        return this._friend !== undefined;
    }
    friend() {
        return this._friend;
    }
    name() {
        return this._name;
    }
    makeFriendsWith(friend) {
        this._friend = friend;
        console.log(this.name(), ": I'm now friends â¤ï¸ with ", friend.name());
        return true;
    }
    isPlaying() {
        return this.currentStateEnum === "run-right" /* runRight */ || this.currentStateEnum === "run-left" /* runLeft */;
    }
    emoji() {
        return "ðŸ¶";
    }
}
class Totoro extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "totoro";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "lie" /* lie */]
                },
                {
                    state: "lie" /* lie */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "sit-idle" /* sitIdle */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "climb-wall-left" /* climbWallLeft */, "sit-idle" /* sitIdle */]
                },
                {
                    state: "climb-wall-left" /* climbWallLeft */,
                    possibleNextStates: ["wall-hang-left" /* wallHangLeft */]
                },
                {
                    state: "wall-hang-left" /* wallHangLeft */,
                    possibleNextStates: ["jump-down-left" /* jumpDownLeft */]
                },
                {
                    state: "jump-down-left" /* jumpDownLeft */,
                    possibleNextStates: ["land" /* land */]
                },
                {
                    state: "land" /* land */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "walk-right" /* walkRight */, "lie" /* lie */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ¾";
    }
}
exports.Totoro = Totoro;
class Cat extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "cat";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "climb-wall-left" /* climbWallLeft */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "climb-wall-left" /* climbWallLeft */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "climb-wall-left" /* climbWallLeft */,
                    possibleNextStates: ["wall-hang-left" /* wallHangLeft */]
                },
                {
                    state: "wall-hang-left" /* wallHangLeft */,
                    possibleNextStates: ["jump-down-left" /* jumpDownLeft */]
                },
                {
                    state: "jump-down-left" /* jumpDownLeft */,
                    possibleNextStates: ["land" /* land */]
                },
                {
                    state: "land" /* land */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ±";
    }
}
exports.Cat = Cat;
class Dog extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "dog";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */, "lie" /* lie */]
                },
                {
                    state: "lie" /* lie */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "lie" /* lie */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "lie" /* lie */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ¶";
    }
}
exports.Dog = Dog;
class Snake extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "snake";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */, "walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ";
    }
}
exports.Snake = Snake;
class Clippy extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "clippy";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ“Ž";
    }
}
exports.Clippy = Clippy;
class RubberDuck extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "rubber-duck";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ¥";
    }
}
exports.RubberDuck = RubberDuck;
class Crab extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "crab";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "ðŸ¦€";
    }
}
exports.Crab = Crab;
class Zappy extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "zappy";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "âš¡";
    }
}
exports.Zappy = Zappy;
class Rocky extends BasePetType {
    constructor() {
        super(...arguments);
        this.label = "rocky";
        this.sequence = {
            startingState: "sit-idle" /* sitIdle */,
            sequenceStates: [
                {
                    state: "sit-idle" /* sitIdle */,
                    possibleNextStates: ["walk-right" /* walkRight */, "run-right" /* runRight */]
                },
                {
                    state: "walk-right" /* walkRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "run-right" /* runRight */,
                    possibleNextStates: ["walk-left" /* walkLeft */, "run-left" /* runLeft */]
                },
                {
                    state: "walk-left" /* walkLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "run-left" /* runLeft */,
                    possibleNextStates: ["sit-idle" /* sitIdle */]
                },
                {
                    state: "chase" /* chase */,
                    possibleNextStates: ["idle-with-ball" /* idleWithBall */]
                },
                {
                    state: "idle-with-ball" /* idleWithBall */,
                    possibleNextStates: ["walk-right" /* walkRight */, "walk-left" /* walkLeft */, "run-left" /* runLeft */, "run-right" /* runRight */]
                },
            ]
        };
    }
    emoji() {
        return "â›°";
    }
}
exports.Rocky = Rocky;
class InvalidPetException {
}
exports.InvalidPetException = InvalidPetException;
function getPetName(collection, label, count) {
    if (collection.has(count)) {
        return collection.get(count);
    }
    else {
        return label + count;
    }
}
function createPet(petType, el, collision, size, left, bottom, petRoot, floor, name, count) {
    if (petType === "totoro") {
        if (name === undefined) {
            name = getPetName(names_1.TOTORO_NAMES, "totoro" /* totoro */, count);
        }
        return new Totoro(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    if (petType === "cat") {
        if (name === undefined) {
            name = getPetName(names_1.CAT_NAMES, "cat" /* cat */, count);
        }
        return new Cat(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    else if (petType === "dog") {
        if (name === undefined) {
            name = getPetName(names_1.DOG_NAMES, "dog" /* dog */, count);
        }
        return new Dog(el, collision, size, left, bottom, petRoot, floor, name, 3 /* normal */);
    }
    else if (petType === "snake") {
        if (name === undefined) {
            name = getPetName(names_1.SNAKE_NAMES, "snake" /* snake */, count);
        }
        return new Snake(el, collision, size, left, bottom, petRoot, floor, name, 1 /* verySlow */);
    }
    else if (petType === "clippy") {
        if (name === undefined) {
            name = getPetName(names_1.CLIPPY_NAMES, "clippy" /* clippy */, count);
        }
        return new Clippy(el, collision, size, left, bottom, petRoot, floor, name, 2 /* slow */);
    }
    else if (petType === "crab") {
        if (name === undefined) {
            name = getPetName(names_1.CRAB_NAMES, "crab" /* crab */, count);
        }
        return new Crab(el, collision, size, left, bottom, petRoot, floor, name, 2 /* slow */);
    }
    else if (petType === "rocky") {
        if (name === undefined) {
            name = getPetName(names_1.ROCKY_NAMES, "rocky" /* rocky */, count);
        }
        return new Rocky(el, collision, size, left, bottom, petRoot, floor, name, 0.1 /* still */);
    }
    else if (petType === "rubber-duck") {
        if (name === undefined) {
            name = getPetName(names_1.DUCK_NAMES, "rubber-duck" /* rubberduck */, count);
        }
        return new RubberDuck(el, collision, size, left, bottom, petRoot, floor, name, 4 /* fast */);
    }
    else if (petType === "zappy") {
        if (name === undefined) {
            name = getPetName(names_1.ZAPPY_NAMES, "zappy" /* zappy */, count);
        }
        return new Zappy(el, collision, size, left, bottom, petRoot, floor, name, 5 /* veryFast */);
    }
    throw new InvalidPetException();
}
exports.createPet = createPet;


/***/ }),

/***/ "./src/panel/states.ts":
/*!*****************************!*\
  !*** ./src/panel/states.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JumpDownLeftState = exports.ClimbWallLeftState = exports.ChaseFriendState = exports.ChaseState = exports.RunLeftState = exports.RunRightState = exports.WalkLeftState = exports.WalkRightState = exports.IdleWithBallState = exports.SwipeState = exports.LandState = exports.WallHangLeftState = exports.LieState = exports.SitIdleState = exports.resolveState = exports.isStateAboveGround = exports.BallState = exports.FrameResult = exports.HorizontalDirection = exports.PetPanelState = exports.PetElementState = exports.PetInstanceState = void 0;
class PetInstanceState {
}
exports.PetInstanceState = PetInstanceState;
class PetElementState {
}
exports.PetElementState = PetElementState;
class PetPanelState {
}
exports.PetPanelState = PetPanelState;
var HorizontalDirection;
(function (HorizontalDirection) {
    HorizontalDirection[HorizontalDirection["left"] = 0] = "left";
    HorizontalDirection[HorizontalDirection["right"] = 1] = "right";
    HorizontalDirection[HorizontalDirection["natural"] = 2] = "natural"; // No change to current direction
})(HorizontalDirection = exports.HorizontalDirection || (exports.HorizontalDirection = {}));
var FrameResult;
(function (FrameResult) {
    FrameResult[FrameResult["stateContinue"] = 0] = "stateContinue";
    FrameResult[FrameResult["stateComplete"] = 1] = "stateComplete";
    // Special states
    FrameResult[FrameResult["stateCancel"] = 2] = "stateCancel";
})(FrameResult = exports.FrameResult || (exports.FrameResult = {}));
class BallState {
    constructor(cx, cy, vx, vy) {
        this.cx = cx;
        this.cy = cy;
        this.vx = vx;
        this.vy = vy;
        this.paused = false;
    }
}
exports.BallState = BallState;
function isStateAboveGround(state) {
    return (state === "climb-wall-left" /* climbWallLeft */ ||
        state === "jump-down-left" /* jumpDownLeft */ ||
        state === "land" /* land */ ||
        state === "wall-hang-left" /* wallHangLeft */);
}
exports.isStateAboveGround = isStateAboveGround;
function resolveState(state, pet) {
    switch (state) {
        case "sit-idle" /* sitIdle */: return new SitIdleState(pet);
        case "walk-right" /* walkRight */: return new WalkRightState(pet);
        case "walk-left" /* walkLeft */: return new WalkLeftState(pet);
        case "run-right" /* runRight */: return new RunRightState(pet);
        case "run-left" /* runLeft */: return new RunLeftState(pet);
        case "lie" /* lie */: return new LieState(pet);
        case "wall-hang-left" /* wallHangLeft */: return new WallHangLeftState(pet);
        case "climb-wall-left" /* climbWallLeft */: return new ClimbWallLeftState(pet);
        case "jump-down-left" /* jumpDownLeft */: return new JumpDownLeftState(pet);
        case "land" /* land */: return new LandState(pet);
        case "swipe" /* swipe */: return new SwipeState(pet);
        case "idle-with-ball" /* idleWithBall */: return new IdleWithBallState(pet);
        case "chase-friend" /* chaseFriend */: return new ChaseFriendState(pet);
    }
    return new SitIdleState(pet);
}
exports.resolveState = resolveState;
class AbstractStaticState {
    constructor(pet) {
        this.label = "sit-idle" /* sitIdle */;
        this.spriteLabel = "idle";
        this.holdTime = 50;
        this.horizontalDirection = HorizontalDirection.left;
        this.idleCounter = 0;
        this.pet = pet;
    }
    nextFrame() {
        this.idleCounter++;
        if (this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
class SitIdleState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "sit-idle" /* sitIdle */;
        this.spriteLabel = "idle";
        this.horizontalDirection = HorizontalDirection.right;
        this.holdTime = 50;
    }
}
exports.SitIdleState = SitIdleState;
class LieState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "lie" /* lie */;
        this.spriteLabel = "lie";
        this.horizontalDirection = HorizontalDirection.right;
        this.holdTime = 50;
    }
}
exports.LieState = LieState;
class WallHangLeftState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "wall-hang-left" /* wallHangLeft */;
        this.spriteLabel = "wallgrab";
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 50;
    }
}
exports.WallHangLeftState = WallHangLeftState;
class LandState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "land" /* land */;
        this.spriteLabel = "land";
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 10;
    }
}
exports.LandState = LandState;
class SwipeState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "swipe" /* swipe */;
        this.spriteLabel = "swipe";
        this.horizontalDirection = HorizontalDirection.natural;
        this.holdTime = 30;
    }
}
exports.SwipeState = SwipeState;
class IdleWithBallState extends AbstractStaticState {
    constructor() {
        super(...arguments);
        this.label = "idle-with-ball" /* idleWithBall */;
        this.spriteLabel = "with_ball";
        this.horizontalDirection = HorizontalDirection.left;
        this.holdTime = 30;
    }
}
exports.IdleWithBallState = IdleWithBallState;
class WalkRightState {
    constructor(pet) {
        this.label = "walk-right" /* walkRight */;
        this.spriteLabel = "walk";
        this.horizontalDirection = HorizontalDirection.right;
        this.speedMultiplier = 1;
        this.leftBoundary = Math.floor(window.innerWidth * 0.95);
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionLeft(this.pet.left() + this.pet.speed() * this.speedMultiplier);
        if (this.pet.left() >= this.leftBoundary - this.pet.width()) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkRightState = WalkRightState;
class WalkLeftState {
    constructor(pet) {
        this.label = "walk-left" /* walkLeft */;
        this.spriteLabel = "walk";
        this.horizontalDirection = HorizontalDirection.left;
        this.speedMultiplier = 1;
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionLeft(this.pet.left() - this.pet.speed() * this.speedMultiplier);
        if (this.pet.left() <= 0) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkLeftState = WalkLeftState;
class RunRightState extends WalkRightState {
    constructor() {
        super(...arguments);
        this.label = "run-right" /* runRight */;
        this.spriteLabel = "walk_fast";
        this.speedMultiplier = 1.6;
    }
}
exports.RunRightState = RunRightState;
class RunLeftState extends WalkLeftState {
    constructor() {
        super(...arguments);
        this.label = "run-left" /* runLeft */;
        this.spriteLabel = "walk_fast";
        this.speedMultiplier = 1.6;
    }
}
exports.RunLeftState = RunLeftState;
class ChaseState {
    constructor(pet, ballState, canvas) {
        this.label = "chase" /* chase */;
        this.spriteLabel = "run";
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
        this.ballState = ballState;
        this.canvas = canvas;
    }
    nextFrame() {
        if (this.ballState.paused) {
            return FrameResult.stateCancel; // Ball is already caught
        }
        if (this.pet.left() > this.ballState.cx) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        if (this.canvas.height - this.ballState.cy < (this.pet.width() + this.pet.floor()) &&
            this.ballState.cx < this.pet.left() &&
            this.pet.left() < this.ballState.cx + 15) {
            // hide ball
            this.canvas.style.display = "none";
            this.ballState.paused = true;
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseState = ChaseState;
class ChaseFriendState {
    constructor(pet) {
        this.label = "chase-friend" /* chaseFriend */;
        this.spriteLabel = "run";
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
    }
    nextFrame() {
        if (!this.pet.friend().isPlaying()) {
            return FrameResult.stateCancel; // Friend is no longer playing.
        }
        if (this.pet.left() > this.pet.friend().left()) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseFriendState = ChaseFriendState;
class ClimbWallLeftState {
    constructor(pet) {
        this.label = "climb-wall-left" /* climbWallLeft */;
        this.spriteLabel = "wallclimb";
        this.horizontalDirection = HorizontalDirection.left;
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() + 1);
        if (this.pet.bottom() >= 100) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ClimbWallLeftState = ClimbWallLeftState;
class JumpDownLeftState {
    constructor(pet) {
        this.label = "jump-down-left" /* jumpDownLeft */;
        this.spriteLabel = "fall_from_grab";
        this.horizontalDirection = HorizontalDirection.right;
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() - 5);
        if (this.pet.bottom() <= this.pet.floor()) {
            this.pet.positionBottom(this.pet.floor());
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.JumpDownLeftState = JumpDownLeftState;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!***************************!*\
  !*** ./src/panel/main.ts ***!
  \***************************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.petPanelApp = void 0;
const pets_1 = __webpack_require__(/*! ./pets */ "./src/panel/pets.ts");
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const vscode = window.acquireVsCodeApi();
var allPets = new pets_1.PetCollection();
var petCounter;
function calculateBallRadius(size) {
    if (size === "nano" /* nano */) {
        return 2;
    }
    else if (size === "medium" /* medium */) {
        return 4;
    }
    else if (size === "large" /* large */) {
        return 8;
    }
    else {
        return 1; // Shrug
    }
}
function calculateFloor(size, theme) {
    switch (theme) {
        case "forest" /* forest */:
            switch (size) {
                case "medium" /* medium */:
                    return 40;
                case "large" /* large */:
                    return 65;
                case "nano" /* nano */:
                default:
                    return 23;
            }
        case "castle" /* castle */:
            switch (size) {
                case "medium" /* medium */:
                    return 80;
                case "large" /* large */:
                    return 120;
                case "nano" /* nano */:
                default:
                    return 45;
            }
    }
    return 0;
}
function handleMouseOver(e) {
    var el = e.currentTarget;
    allPets.pets().forEach(element => {
        if (element.collision === el) {
            if (!element.pet.canSwipe()) {
                return;
            }
            element.pet.swipe();
        }
    });
}
function startAnimations(collision, pet) {
    collision.addEventListener("mouseover", handleMouseOver);
    setInterval(() => {
        var updates = allPets.seekNewFriends();
        updates.forEach(message => {
            vscode.postMessage({
                text: message,
                command: 'info'
            });
        });
        pet.nextFrame();
        saveState();
    }, 100);
}
function addPetToPanel(petType, basePetUri, petColor, petSize, left, bottom, floor, name) {
    var petSpriteElement = document.createElement("img");
    petSpriteElement.className = "pet";
    document.getElementById("petsContainer").appendChild(petSpriteElement);
    var collisionElement = document.createElement("div");
    collisionElement.className = "collision";
    document.getElementById("petsContainer").appendChild(collisionElement);
    const root = basePetUri + '/' + petType + '/' + petColor;
    console.log("Creating new pet : ", petType, root);
    var newPet = pets_1.createPet(petType, petSpriteElement, collisionElement, petSize, left, bottom, root, floor, name, petCounter);
    petCounter++;
    startAnimations(collisionElement, newPet);
    return new pets_1.PetElement(petSpriteElement, collisionElement, newPet, petColor, petType);
}
function saveState() {
    var state = new states_1.PetPanelState();
    state.petStates = new Array();
    allPets.pets().forEach(petItem => {
        state.petStates.push({
            petName: petItem.pet.name(),
            petColor: petItem.color,
            petType: petItem.type,
            petState: petItem.pet.getState(),
            petFriend: petItem.pet.friend() ? petItem.pet.friend().name() : undefined,
            elLeft: petItem.el.style.left,
            elBottom: petItem.el.style.bottom
        });
    });
    state.petCounter = petCounter;
    vscode.setState(state);
}
function recoverState(basePetUri, petSize, floor) {
    var state = vscode.getState();
    if (state.petCounter === undefined || isNaN(state.petCounter)) {
        petCounter = 1;
    }
    else {
        petCounter = state.petCounter;
    }
    var recoveryMap = new Map();
    state.petStates.forEach(p => {
        // Fixes a bug related to duck animations
        if (p.petType === "rubber duck") {
            p.petType = "rubber-duck";
        }
        try {
            var newPet = addPetToPanel(p.petType, basePetUri, p.petColor, petSize, parseInt(p.elLeft), parseInt(p.elBottom), floor, p.petName);
            allPets.push(newPet);
            recoveryMap.set(newPet.pet, p);
        }
        catch (InvalidPetException) {
            console.log("State had invalid pet (" + p.petType + "), discarding.");
        }
    });
    recoveryMap.forEach((state, pet) => {
        // Recover previous state.
        pet.recoverState(state.petState);
        // Resolve friend relationships
        var friend = undefined;
        if (state.petFriend) {
            friend = allPets.locate(state.petFriend);
            if (friend) {
                pet.recoverFriend(friend.pet);
            }
        }
    });
}
function randomStartPosition() {
    return Math.floor(Math.random() * (window.innerWidth * 0.7));
}
let canvas, ctx;
function initCanvas() {
    canvas = document.getElementById("petCanvas");
    ctx = canvas.getContext("2d");
    ctx.canvas.width = window.innerWidth;
    ctx.canvas.height = window.innerHeight;
}
// It cannot access the main VS Code APIs directly.
function petPanelApp(basePetUri, theme, themeKind, petColor, petSize, petType) {
    const ballRadius = calculateBallRadius(petSize);
    var floor = 0;
    // Apply Theme backgrounds
    if (theme !== "none" /* none */) {
        var _themeKind = "";
        switch (themeKind) {
            case 2 /* Dark */:
                _themeKind = "dark";
                break;
            case 1 /* Light */:
                _themeKind = "light";
                break;
            case 3 /* HighContrast */:
            default:
                _themeKind = "light";
                break;
        }
        document.body.style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/background-${_themeKind}-${petSize}.png')`;
        document.getElementById("foreground").style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/foreground-${_themeKind}-${petSize}.png')`;
        floor = calculateFloor(petSize, theme); // Themes have pets at a specified height from the ground
    }
    else {
        document.body.style.backgroundImage = "";
        document.getElementById("foreground").style.backgroundImage = "";
    }
    /// Bouncing ball components, credit https://stackoverflow.com/a/29982343
    const gravity = 0.2, damping = 0.9, traction = 0.8;
    var ballState;
    function resetBall() {
        canvas.style.display = "block";
        ballState = new states_1.BallState(100, 100, 2, 5);
    }
    function throwBall() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (!ballState.paused) {
            requestAnimationFrame(throwBall);
        }
        if (ballState.cx + ballRadius >= canvas.width) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = canvas.width - ballRadius;
        }
        else if (ballState.cx - ballRadius <= 0) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = ballRadius;
        }
        if (ballState.cy + ballRadius + floor >= (canvas.height)) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = canvas.height - ballRadius - floor;
            // traction here
            ballState.vx *= traction;
        }
        else if (ballState.cy - ballRadius <= 0) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = ballRadius;
        }
        ballState.vy += gravity;
        ballState.cx += ballState.vx;
        ballState.cy += ballState.vy;
        ctx.beginPath();
        ctx.arc(ballState.cx, ballState.cy, ballRadius, 0, 2 * Math.PI, false);
        ctx.fillStyle = "#2ed851";
        ctx.fill();
    }
    console.log('Starting pet session', petColor, basePetUri, petType);
    // New session
    var state = vscode.getState();
    if (!state) {
        console.log('No state, starting a new session.');
        petCounter = 1;
        allPets.push(addPetToPanel(petType, basePetUri, petColor, petSize, randomStartPosition(), floor, floor, undefined));
        saveState();
    }
    else {
        console.log('Recovering state - ', state);
        recoverState(basePetUri, petSize, floor);
    }
    initCanvas();
    // Handle messages sent from the extension to the webview
    window.addEventListener("message", (event) => {
        const message = event.data; // The json data that the extension sent
        switch (message.command) {
            case "throw-ball":
                resetBall();
                throwBall();
                allPets.pets().forEach(petEl => {
                    if (petEl.pet.canChase()) {
                        petEl.pet.chase(ballState, canvas);
                    }
                });
                break;
            case "spawn-pet":
                allPets.push(addPetToPanel(message.type, basePetUri, message.color, petSize, randomStartPosition(), floor, floor, undefined));
                saveState();
                break;
            case "reset-pet":
                allPets.pets().forEach(pet => {
                    pet.el.remove();
                    pet.collision.remove();
                });
                allPets.reset();
                allPets.push(addPetToPanel(message.type, basePetUri, message.color, message.size, randomStartPosition(), floor, floor, undefined));
                petCounter = 1;
                saveState();
                break;
        }
    });
}
exports.petPanelApp = petPanelApp;
;
window.addEventListener('resize', function () {
    initCanvas();
});

})();

self.petApp = __webpack_exports__;
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvY29tbW9uL25hbWVzLnRzIiwid2VicGFjazovL3BldEFwcC8uL3NyYy9wYW5lbC9wZXRzLnRzIiwid2VicGFjazovL3BldEFwcC8uL3NyYy9wYW5lbC9zdGF0ZXMudHMiLCJ3ZWJwYWNrOi8vcGV0QXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BldEFwcC8uL3NyYy9wYW5lbC9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBYSxpQkFBUyxHQUF3QixJQUFJLEdBQUcsQ0FBaUI7SUFDbEUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDO0lBQ2QsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO0lBQ1YsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDO0lBQ2YsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDO0lBQ2YsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ2IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQ1osQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDO0lBQ2QsQ0FB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QUFFLENBQUM7b0JBQ2hCLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3pCLENBQUMsQ0FBQyxDQUFDO2dCQUNILE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDaEIsT0FBTyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLG1CQUFtQixFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUNuSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO2dCQUNmLFNBQVMsRUFBRSxDQUFDO2dCQUNaLE1BQU07U0FDVDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBRUwsQ0FBQztBQW5IRCxrQ0FtSEM7QUFBQSxDQUFDO0FBQ0YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRTtJQUNoQyxVQUFVLEVBQUUsQ0FBQztBQUNmLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4tYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBFVF9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcclxuICAgIFsxLCAnQmVsbGEnXSxcclxuICAgIFsyLCAnQ2hhcmxpZSddLFxyXG4gICAgWzMsICdNYXgnXSxcclxuICAgIFs0LCAnTW9sbHknXSxcclxuICAgIFs1LCAnQ29jbyddLFxyXG4gICAgWzYsICdCdWRkeSddLFxyXG4gICAgWzcsICdSdWJ5J10sXHJcbiAgICBbOCwgJ09zY2FyJ10sXHJcbiAgICBbOSwgJ0x1Y3knXSxcclxuICAgIFsxMCwgJ0JhaWxleSddLFxyXG4gICAgWzExLCAnTWlsbyddLFxyXG4gICAgWzEyLCAnRGFpc3knXSxcclxuICAgIFsxMywgJ0FyY2hpZSddLFxyXG4gICAgWzE0LCAnT2xsaWUnXSxcclxuICAgIFsxNSwgJ1Jvc2llJ10sXHJcbiAgICBbMTYsICdMb2xhJ10sXHJcbiAgICBbMTcsICdGcmFua2llJ10sXHJcbiAgICBbMTgsICdUb2J5J10sXHJcbiAgICBbMTksICdSb3h5J10sXHJcbiAgICBbMjAsICdQb3BweSddLFxyXG4gICAgWzIxLCAnTHVuYSddLFxyXG4gICAgWzIyLCAnSmFjayddLFxyXG4gICAgWzIzLCAnTWlsbGllJ10sXHJcbiAgICBbMjQsICdUZWRkeSddLFxyXG4gICAgWzI1LCAnSGFycnknXSxcclxuICAgIFsyNiwgJ0Nvb3BlciddLFxyXG4gICAgWzI3LCAnQmVhciddLFxyXG4gICAgWzI4LCAnUm9ja3knXSxcclxuICAgIFsyOSwgJ0FsZmllJ10sXHJcbiAgICBbMzAsICdIdWdvJ10sXHJcbiAgICBbMzEsICdCb25uaWUnXSxcclxuICAgIFszMiwgJ1BlcHBlciddLFxyXG4gICAgWzMzLCAnTGlseSddLFxyXG4gICAgWzM0LCAnVGlsbHknXSxcclxuICAgIFszNSwgJ0xlbyddLFxyXG4gICAgWzM2LCAnTWFnZ2llJ10sXHJcbiAgICBbMzcsICdHZW9yZ2UnXSxcclxuICAgIFszOCwgJ01pYSddLFxyXG4gICAgWzM5LCAnTWFybGV5J10sXHJcbiAgICBbNDAsICdIYXJsZXknXSxcclxuICAgIFs0MSwgJ0NobG9lJ10sXHJcbiAgICBbNDIsICdMdWx1J10sXHJcbiAgICBbNDMsICdNaXNzeSddLFxyXG4gICAgWzQ0LCAnSmFzcGVyJ10sXHJcbiAgICBbNDUsICdCaWxseSddLFxyXG4gICAgWzQ2LCAnTmFsYSddLFxyXG4gICAgWzQ3LCAnTW9udHknXSxcclxuICAgIFs0OCwgJ1ppZ2d5J10sXHJcbiAgICBbNDksICdXaW5zdG9uJ10sXHJcbiAgICBbNTAsICdaZXVzJ10sXHJcbiAgICBbNTEsICdab2UnXSxcclxuICAgIFs1MiwgJ1N0ZWxsYSddLFxyXG4gICAgWzUzLCAnU2FzaGEnXSxcclxuICAgIFs1NCwgJ1J1c3R5J10sXHJcbiAgICBbNTUsICdHdXMnXSxcclxuICAgIFs1NiwgJ0JheHRlciddLFxyXG4gICAgWzU3LCAnRGV4dGVyJ10sXHJcbiAgICBbNTgsICdEaWVzZWwnXSxcclxuICAgIFs1OSwgJ1dpbGxvdyddLFxyXG4gICAgWzYwLCAnQmFybmV5J10sXHJcbiAgICBbNjEsICdCcnVubyddLFxyXG4gICAgWzYyLCAnUGVubnknXSxcclxuICAgIFs2MywgJ0hvbmV5J10sXHJcbiAgICBbNjQsICdNaWxseSddLFxyXG4gICAgWzY1LCAnTXVycGh5J10sXHJcbiAgICBbNjYsICdTaW1iYSddLFxyXG4gICAgWzY3LCAnSG9sbHknXSxcclxuICAgIFs2OCwgJ0JlbmppJ10sXHJcbiAgICBbNjksICdIZW5yeSddLFxyXG4gICAgWzcwLCAnTGlsbHknXSxcclxuICAgIFs3MSwgJ1BpcHBhJ10sXHJcbiAgICBbNzIsICdTaGFkb3cnXSxcclxuICAgIFs3MywgJ1NhbSddLFxyXG4gICAgWzc0LCAnQnVzdGVyJ10sXHJcbiAgICBbNzUsICdMdWNreSddLFxyXG4gICAgWzc2LCAnRWxsaWUnXSxcclxuICAgIFs3NywgJ0R1a2UnXSxcclxuICAgIFs3OCwgJ0plc3NpZSddLFxyXG4gICAgWzc5LCAnQ29va2llJ10sXHJcbiAgICBbODAsICdIYXJ2ZXknXSxcclxuICAgIFs4MSwgJ0JydWNlJ10sXHJcbiAgICBbODIsICdKYXgnXSxcclxuICAgIFs4MywgJ1JleCddLFxyXG4gICAgWzg0LCAnTG91aWUnXSxcclxuICAgIFs4NSwgJ0JlbnRsZXknXSxcclxuICAgIFs4NiwgJ0pldCddLFxyXG4gICAgWzg3LCAnQmFuam8nXSxcclxuICAgIFs4OCwgJ0JlYXUnXSxcclxuICAgIFs4OSwgJ0VsbGEnXSxcclxuICAgIFs5MCwgJ1JhbHBoJ10sXHJcbiAgICBbOTEsICdMb2tpJ10sXHJcbiAgICBbOTIsICdMZXhpJ10sXHJcbiAgICBbOTMsICdDaGVzdGVyJ10sXHJcbiAgICBbOTQsICdTb3BoaWUnXSxcclxuICAgIFs5NSwgJ0NoaWxsaSddLFxyXG4gICAgWzk2LCAnQmlsbGllJ10sXHJcbiAgICBbOTcsICdMb3VpcyddLFxyXG4gICAgWzk4LCAnU2NvdXQnXSxcclxuICAgIFs5OSwgJ0NoYXJsaWUnXSxcclxuICAgIFsxMDAsICdDbGVvJ10sXHJcbiAgICBbMTAxLCAnUHVyZmVjdCddLFxyXG4gICAgWzEwMiwgJ1Nwb3QnXSxcclxuICAgIFsxMDMsICdIYXJyeSddLFxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBDQVRfTkFNRVMgPSBQRVRfTkFNRVM7XHJcblxyXG5leHBvcnQgY29uc3QgRE9HX05BTUVTID0gUEVUX05BTUVTO1xyXG5cclxuZXhwb3J0IGNvbnN0IENSQUJfTkFNRVMgOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xyXG4gICAgWzEsICdGZXJyaXMnXSxcclxuICAgIFsyLCAnUGluY2h5J10sXHJcbiAgICBbMywgJ0dyYWJieSddLFxyXG4gICAgWzQsICdCaWcgUmVkJ10sXHJcbiAgICBbNSwgJ0NyYWJieSddLFxyXG4gICAgWzYsICdCdWRkeSddLFxyXG4gICAgWzcsICdSdWJ5IFJlZCddLFxyXG4gICAgWzgsICdPc2NhciddLFxyXG4gICAgWzksICdMdWN5J10sXHJcbiAgICBbMTAsICdCYWlsZXknXVxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBDTElQUFlfTkFNRVM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXHJcbiAgICBbMSwgJ0NsaXBweSddLFxyXG4gICAgWzIsICdLYXJsIEtsYW1tZXInXSxcclxuICAgIFszLCAnQ2xpcHB5IEpyLiddLFxyXG4gICAgWzQsICdNb2xseSddLFxyXG4gICAgWzUsICdDb2NvJ10sXHJcbiAgICBbNiwgJ0J1ZGR5J10sXHJcbiAgICBbNywgJ1J1YnknXSxcclxuICAgIFs4LCAnT3NjYXInXSxcclxuICAgIFs5LCAnTHVjeSddLFxyXG4gICAgWzEwLCAnQmFpbGV5J10sXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRPVE9ST19OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcclxuICAgIFsxLCAnVG90b3JvJ10sXHJcbiAgICBbMiwgJ+ODiOODiOODrSddLFxyXG4gICAgWzMsICdNYXgnXSxcclxuICAgIFs0LCAnTW9sbHknXSxcclxuICAgIFs1LCAnQ29jbyddLFxyXG4gICAgWzYsICdCdWRkeSddLFxyXG4gICAgWzcsICdSdWJ5J10sXHJcbiAgICBbOCwgJ09zY2FyJ10sXHJcbiAgICBbOSwgJ0x1Y3knXSxcclxuICAgIFsxMCwgJ0JhaWxleSddLFxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBTTkFLRV9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcclxuICAgIFsxLCAnU25lYWt5J10sXHJcbiAgICBbMiwgJ01yIFNsaXBwZXJ5J10sXHJcbiAgICBbMywgJ01heCddLFxyXG4gICAgWzQsICdNb2xseSddLFxyXG4gICAgWzUsICdDb2NvJ10sXHJcbiAgICBbNiwgJ0J1ZGR5J10sXHJcbiAgICBbNywgJ1J1YnknXSxcclxuICAgIFs4LCAnT3NjYXInXSxcclxuICAgIFs5LCAnTHVjeSddLFxyXG4gICAgWzEwLCAnQmFpbGV5J10sXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IERVQ0tfTkFNRVM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXHJcbiAgICBbMSwgJ1F1YWNreSddLFxyXG4gICAgWzIsICdGbG9hdHknXSxcclxuICAgIFszLCAnRHVjayddLFxyXG4gICAgWzQsICdNb2xseSddLFxyXG4gICAgWzUsICdTdW5zaGluZSddLFxyXG4gICAgWzYsICdCdWRkeSddLFxyXG4gICAgWzcsICdDaGlycHknXSxcclxuICAgIFs4LCAnT3NjYXInXSxcclxuICAgIFs5LCAnTHVjeSddLFxyXG4gICAgWzEwLCAnQmFpbGV5J10sXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFpBUFBZX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xyXG4gICAgWzEsICdaYXBweSddLFxyXG4gICAgWzIsICdaaXBweSddLFxyXG4gICAgWzMsICdaYXBweSBKci4nXSxcclxuICAgIFs0LCAnWm9wcHknXSxcclxuICAgIFs1LCAnWnVwcHknXSxcclxuICAgIFs2LCAnWmVwcHknXSxcclxuICAgIFs3LCAnQmlnIFonXSxcclxuICAgIFs4LCAnTGl0dGxlIHonXSxcclxuICAgIFs5LCAnVGhlIEZsYXNoJ10sXHJcbiAgICBbMTAsICdUaG9yJ10sXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJPQ0tZX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xyXG4gICAgWzEsICdSb2NreSddLFxyXG4gICAgWzIsICdUaGUgUm9jayddLFxyXG4gICAgWzMsICdRdWFydHp5J10sXHJcbiAgICBbNCwgJ1JvY2t5IEknXSxcclxuICAgIFs1LCAnUm9ja3kgSUknXSxcclxuICAgIFs2LCAnUm9ja3kgSUlJJ10sXHJcbiAgICBbNywgJ1BlYmJsZXMgU3IuJ10sXHJcbiAgICBbOCwgJ0JpZyBHcmFuaXRlJ10sXHJcbiAgICBbOSwgJ0JvdWxkZXInXSxcclxuICAgIFsxMCwgJ1JvY2tlZmVsbGVyJ10sXHJcbl0pOyIsImltcG9ydCB7IFBldENvbG9yLCBQZXRTaXplLCBQZXRTcGVlZCwgUGV0VHlwZSB9IGZyb20gXCIuLi9jb21tb24vdHlwZXNcIjtcclxuaW1wb3J0IHsgSVNlcXVlbmNlVHJlZSB9IGZyb20gXCIuL3NlcXVlbmNlc1wiO1xyXG5pbXBvcnQgeyBJU3RhdGUsIFN0YXRlcywgcmVzb2x2ZVN0YXRlLCBIb3Jpem9udGFsRGlyZWN0aW9uLCBDaGFzZVN0YXRlLCBCYWxsU3RhdGUsIEZyYW1lUmVzdWx0LCBQZXRJbnN0YW5jZVN0YXRlLCBpc1N0YXRlQWJvdmVHcm91bmQgfSBmcm9tIFwiLi9zdGF0ZXNcIjtcclxuaW1wb3J0IHsgQ0FUX05BTUVTLCBET0dfTkFNRVMsIENSQUJfTkFNRVMsIFNOQUtFX05BTUVTLCBDTElQUFlfTkFNRVMsIFRPVE9ST19OQU1FUywgRFVDS19OQU1FUywgWkFQUFlfTkFNRVMsIFJPQ0tZX05BTUVTIH0gZnJvbSBcIi4uL2NvbW1vbi9uYW1lc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEludmFsaWRTdGF0ZUV4Y2VwdGlvbiB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGV0RWxlbWVudCB7XHJcbiAgICBlbDogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbGxpc2lvbjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwZXQ6IElQZXRUeXBlO1xyXG4gICAgY29sb3I6IFBldENvbG9yO1xyXG4gICAgdHlwZTogUGV0VHlwZTtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MSW1hZ2VFbGVtZW50LCBjb2xsaXNpb246IEhUTUxEaXZFbGVtZW50LCBwZXQ6IElQZXRUeXBlLCBjb2xvcjogUGV0Q29sb3IsIHR5cGU6IFBldFR5cGUpe1xyXG4gICAgICB0aGlzLmVsID0gZWw7XHJcbiAgICAgIHRoaXMuY29sbGlzaW9uID0gY29sbGlzaW9uO1xyXG4gICAgICB0aGlzLnBldCA9IHBldDtcclxuICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBldENvbGxlY3Rpb24ge1xyXG4gICAgcGV0cygpOiBBcnJheTxQZXRFbGVtZW50PjtcclxuICAgIHB1c2gocGV0OiBQZXRFbGVtZW50KTogdm9pZDtcclxuICAgIHJlc2V0KCk6IHZvaWQ7XHJcbiAgICBzZWVrTmV3RnJpZW5kcygpOiBzdHJpbmdbXTtcclxuICAgIGxvY2F0ZShuYW1lOiBzdHJpbmcpOiBQZXRFbGVtZW50IHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGV0Q29sbGVjdGlvbiBpbXBsZW1lbnRzIElQZXRDb2xsZWN0aW9uIHtcclxuICAgIF9wZXRzOiBBcnJheTxQZXRFbGVtZW50PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuX3BldHMgPSBuZXcgQXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGV0cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGV0cztcclxuICAgIH1cclxuXHJcbiAgICBwdXNoKHBldDogUGV0RWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fcGV0cy5wdXNoKHBldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKXtcclxuICAgICAgICB0aGlzLl9wZXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgbG9jYXRlKG5hbWU6IHN0cmluZyk6IFBldEVsZW1lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wZXRzLmZpbmQoKGNvbGxlY3Rpb24sIHZhbHVlLCBvYmopID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24ucGV0Lm5hbWUoKSA9PT0gbmFtZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZWVrTmV3RnJpZW5kcygpIDogc3RyaW5nW10geyBcclxuICAgICAgICBpZiAodGhpcy5fcGV0cy5sZW5ndGggPD0gMSlcclxuICAgICAgICAgICAge3JldHVybiBbXTt9IC8vIFlvdSBjYW4ndCBiZSBmcmllbmRzIHdpdGggeW91cnNlbGYuXHJcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gbmV3IEFycmF5PHN0cmluZz4oMCk7XHJcbiAgICAgICAgdGhpcy5fcGV0cy5mb3JFYWNoKHBldEluQ29sbGVjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwZXRJbkNvbGxlY3Rpb24ucGV0Lmhhc0ZyaWVuZCgpKVxyXG4gICAgICAgICAgICAgICAge3JldHVybjt9IC8vIEkgYWxyZWFkeSBoYXZlIGEgZnJpZW5kIVxyXG4gICAgICAgICAgICB0aGlzLl9wZXRzLmZvckVhY2gocG90ZW50aWFsRnJpZW5kID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3RlbnRpYWxGcmllbmQucGV0Lmhhc0ZyaWVuZCgpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXR1cm47fSAvLyBBbHJlYWR5IGhhcyBhIGZyaWVuZC4gc29ycnkuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXBvdGVudGlhbEZyaWVuZC5wZXQuY2FuQ2hhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICB7cmV0dXJuO30gLy8gUGV0IGlzIGJ1c3kgZG9pbmcgc29tZXRoaW5nIGVsc2UuXHJcbiAgICAgICAgICAgICAgICBpZiAocG90ZW50aWFsRnJpZW5kLnBldC5sZWZ0KCkgPiBwZXRJbkNvbGxlY3Rpb24ucGV0LmxlZnQoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbEZyaWVuZC5wZXQubGVmdCgpIDwgcGV0SW5Db2xsZWN0aW9uLnBldC5sZWZ0KCkgKyBwZXRJbkNvbGxlY3Rpb24ucGV0LndpZHRoKCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIHBvc3NpYmxlIG5ldyBmcmllbmQuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwZXRJbkNvbGxlY3Rpb24ucGV0Lm5hbWUoKSwgXCIgd2FudHMgdG8gYmUgZnJpZW5kcyB3aXRoIFwiLCBwb3RlbnRpYWxGcmllbmQucGV0Lm5hbWUoKSwgXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGV0SW5Db2xsZWN0aW9uLnBldC5tYWtlRnJpZW5kc1dpdGgocG90ZW50aWFsRnJpZW5kLnBldCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYCR7cGV0SW5Db2xsZWN0aW9uLnBldC5uYW1lKCl9ICgke3BldEluQ29sbGVjdGlvbi5wZXQuZW1vamkoKX0pOiBJJ20gbm93IGZyaWVuZHMg4p2k77iPIHdpdGggJHtwb3RlbnRpYWxGcmllbmQucGV0Lm5hbWUoKX0gKCR7cG90ZW50aWFsRnJpZW5kLnBldC5lbW9qaSgpfSlgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElQZXRUeXBlIHtcclxuICAgIG5leHRGcmFtZSgpOiB2b2lkXHJcblxyXG4gICAgLy8gU3BlY2lhbCBtZXRob2RzIGZvciBhY3Rpb25zXHJcbiAgICBjYW5Td2lwZSgpOiBib29sZWFuXHJcbiAgICBjYW5DaGFzZSgpOiBib29sZWFuXHJcbiAgICBzd2lwZSgpOiB2b2lkXHJcbiAgICBjaGFzZShiYWxsU3RhdGU6IEJhbGxTdGF0ZSwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IHZvaWRcclxuICAgIHNwZWVkKCk6IG51bWJlclxyXG5cclxuICAgIC8vIFN0YXRlIEFQSVxyXG4gICAgZ2V0U3RhdGUoKTogUGV0SW5zdGFuY2VTdGF0ZVxyXG4gICAgcmVjb3ZlclN0YXRlKHN0YXRlOiBQZXRJbnN0YW5jZVN0YXRlKTogdm9pZFxyXG4gICAgcmVjb3ZlckZyaWVuZChmcmllbmQ6IElQZXRUeXBlKTogdm9pZFxyXG5cclxuICAgIC8vIFBvc2l0aW9uaW5nXHJcbiAgICBib3R0b20oKTogbnVtYmVyO1xyXG4gICAgbGVmdCgpOiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbkJvdHRvbShib3R0b206IG51bWJlcik6IHZvaWQ7XHJcbiAgICBwb3NpdGlvbkxlZnQobGVmdDogbnVtYmVyKTogdm9pZDtcclxuICAgIHdpZHRoKCk6IG51bWJlcjtcclxuICAgIGZsb29yKCk6IG51bWJlcjtcclxuXHJcbiAgICAvLyBGcmllbmRzIEFQSVxyXG4gICAgbmFtZSgpOiBzdHJpbmc7XHJcbiAgICBlbW9qaSgpOiBzdHJpbmc7XHJcbiAgICBoYXNGcmllbmQoKTogYm9vbGVhbjtcclxuICAgIGZyaWVuZCgpOiBJUGV0VHlwZTtcclxuICAgIG1ha2VGcmllbmRzV2l0aChmcmllbmQ6IElQZXRUeXBlKTogYm9vbGVhbjtcclxuICAgIGlzUGxheWluZygpOiBib29sZWFuO1xyXG59IFxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlV2lkdGgoc2l6ZTogUGV0U2l6ZSk6IG51bWJlcntcclxuICAgIGlmIChzaXplID09PSBQZXRTaXplLm5hbm8pe1xyXG4gICAgICByZXR1cm4gMzA7XHJcbiAgICB9IGVsc2UgaWYgKHNpemUgPT09IFBldFNpemUubWVkaXVtKXtcclxuICAgICAgcmV0dXJuIDU1O1xyXG4gICAgfSBlbHNlIGlmIChzaXplID09PSBQZXRTaXplLmxhcmdlKXtcclxuICAgICAgcmV0dXJuIDExMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAzMDsgLy8gU2hydWdcclxuICAgIH1cclxuICB9XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBCYXNlUGV0VHlwZSBpbXBsZW1lbnRzIElQZXRUeXBlIHtcclxuICAgIGxhYmVsOiBzdHJpbmcgPSBcImJhc2VcIjtcclxuICAgIHNlcXVlbmNlOiBJU2VxdWVuY2VUcmVlID0geyBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSwgc2VxdWVuY2VTdGF0ZXM6IFtdfTtcclxuICAgIGN1cnJlbnRTdGF0ZTogSVN0YXRlO1xyXG4gICAgY3VycmVudFN0YXRlRW51bTogU3RhdGVzO1xyXG4gICAgaG9sZFN0YXRlOiBJU3RhdGUgfCB1bmRlZmluZWQ7XHJcbiAgICBob2xkU3RhdGVFbnVtOiBTdGF0ZXMgfCB1bmRlZmluZWQ7XHJcbiAgICBwcml2YXRlIGVsOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjb2xsaXNpb246IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfbGVmdDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfYm90dG9tOiBudW1iZXI7XHJcbiAgICBwZXRSb290OiBzdHJpbmc7XHJcbiAgICBfZmxvb3I6IG51bWJlcjtcclxuICAgIF9mcmllbmQ6IElQZXRUeXBlIHwgdW5kZWZpbmVkO1xyXG4gICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfc3BlZWQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzcHJpdGVFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50LCBjb2xsaXNpb25FbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgc2l6ZTogUGV0U2l6ZSwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlciwgcGV0Um9vdDogc3RyaW5nLCBmbG9vcjogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHNwZWVkOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuZWwgPSBzcHJpdGVFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gY29sbGlzaW9uRWxlbWVudDtcclxuICAgICAgICB0aGlzLnBldFJvb3QgPSBwZXRSb290O1xyXG4gICAgICAgIHRoaXMuX2Zsb29yID0gZmxvb3I7XHJcbiAgICAgICAgdGhpcy5fbGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy5fYm90dG9tID0gYm90dG9tO1xyXG4gICAgICAgIHRoaXMuaW5pdFNwcml0ZShzaXplLCBsZWZ0LCBib3R0b20pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IHRoaXMuc2VxdWVuY2Uuc3RhcnRpbmdTdGF0ZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZUVudW0sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRTcHJpdGUocGV0U2l6ZTogUGV0U2l6ZSwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUuYm90dG9tID0gYCR7Ym90dG9tfXB4YDtcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gXCJhdXRvXCI7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLm1heFdpZHRoID0gYCR7Y2FsY3VsYXRlU3ByaXRlV2lkdGgocGV0U2l6ZSl9cHhgO1xyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUubWF4SGVpZ2h0ID0gYCR7Y2FsY3VsYXRlU3ByaXRlV2lkdGgocGV0U2l6ZSl9cHhgO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5ib3R0b20gPSBgJHtib3R0b219cHhgO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLndpZHRoID0gYCR7Y2FsY3VsYXRlU3ByaXRlV2lkdGgocGV0U2l6ZSl9cHhgO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmhlaWdodCA9IGAke2NhbGN1bGF0ZVNwcml0ZVdpZHRoKHBldFNpemUpfXB4YDtcclxuICAgICAgfVxyXG5cclxuICAgIGxlZnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdDtcclxuICAgIH1cclxuXHJcbiAgICBib3R0b20oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc2l0aW9uQm90dG9tKGJvdHRvbTogbnVtYmVyKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2JvdHRvbSA9IGJvdHRvbTtcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMuX2JvdHRvbX1weGA7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSBgJHt0aGlzLl9ib3R0b219cHhgO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmxlZnQgPSBgJHt0aGlzLl9sZWZ0fXB4YDtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbi5zdHlsZS5ib3R0b20gPSBgJHt0aGlzLl9ib3R0b219cHhgO1xyXG4gICAgfTtcclxuXHJcbiAgICBwb3NpdGlvbkxlZnQobGVmdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fbGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb24uc3R5bGUubGVmdCA9IGAke3RoaXMuX2xlZnR9cHhgO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMuX2JvdHRvbX1weGA7XHJcbiAgICB9XHJcblxyXG4gICAgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbC53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBmbG9vcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mbG9vcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpOiBQZXRJbnN0YW5jZVN0YXRlIHsgXHJcbiAgICAgICAgcmV0dXJuIHtjdXJyZW50U3RhdGVFbnVtOiB0aGlzLmN1cnJlbnRTdGF0ZUVudW19O1xyXG4gICAgfVxyXG5cclxuICAgIHNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY292ZXJGcmllbmQoZnJpZW5kOiBJUGV0VHlwZSl7XHJcbiAgICAgICAgLy8gUmVjb3ZlciBmcmllbmRzLi5cclxuICAgICAgICB0aGlzLl9mcmllbmQgPSBmcmllbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVjb3ZlclN0YXRlKHN0YXRlOiBQZXRJbnN0YW5jZVN0YXRlKXtcclxuICAgICAgICAvLyBUT0RPIDogUmVzb2x2ZSBhIGJ1ZyB3aGVyZSBpZiBpdCB3YXMgc3dpcGluZyBiZWZvcmUsIGl0IHdvdWxkIGZhaWxcclxuICAgICAgICAvLyBiZWNhdXNlIGhvbGRTdGF0ZSBpcyBubyBsb25nZXIgdmFsaWQuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gc3RhdGUuY3VycmVudFN0YXRlRW51bSE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUodGhpcy5jdXJyZW50U3RhdGVFbnVtLCB0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc1N0YXRlQWJvdmVHcm91bmQodGhpcy5jdXJyZW50U3RhdGVFbnVtKSl7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBib3R0b20gb2YgdGhlIHNwcml0ZSB0byB0aGUgZmxvb3IgYXMgdGhlIHRoZW1lXHJcbiAgICAgICAgICAgIC8vIGhhcyBsaWtlbHkgY2hhbmdlZC5cclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkJvdHRvbSh0aGlzLmZsb29yKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjYW5Td2lwZSgpe1xyXG4gICAgICAgIHJldHVybiAhaXNTdGF0ZUFib3ZlR3JvdW5kKHRoaXMuY3VycmVudFN0YXRlRW51bSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FuQ2hhc2UoKXtcclxuICAgICAgICByZXR1cm4gIWlzU3RhdGVBYm92ZUdyb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pICYmIHRoaXMuY3VycmVudFN0YXRlRW51bSAhPT0gU3RhdGVzLmNoYXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXBlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5zd2lwZSkgeyByZXR1cm47IH1cclxuICAgICAgICB0aGlzLmhvbGRTdGF0ZSA9IHRoaXMuY3VycmVudFN0YXRlO1xyXG4gICAgICAgIHRoaXMuaG9sZFN0YXRlRW51bSA9IHRoaXMuY3VycmVudFN0YXRlRW51bTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBTdGF0ZXMuc3dpcGU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUodGhpcy5jdXJyZW50U3RhdGVFbnVtLCB0aGlzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY2hhc2UoYmFsbFN0YXRlOiBCYWxsU3RhdGUsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBTdGF0ZXMuY2hhc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXcgQ2hhc2VTdGF0ZSh0aGlzLCBiYWxsU3RhdGUsIGNhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZmFjZUxlZnQoKSB7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgtMSlcIjtcclxuICAgIH1cclxuXHJcbiAgICBmYWNlUmlnaHQoKSB7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInNjYWxlWCgxKVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFuaW1hdGlvbihmYWNlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBuZXdGYWNlOiBzdHJpbmcgPSBgJHt0aGlzLnBldFJvb3R9XyR7ZmFjZX1fOGZwcy5naWZgO1xyXG4gICAgICAgIGlmICh0aGlzLmVsLnNyYyA9PT0gbmV3RmFjZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWwuc3JjID0gbmV3RmFjZTtcclxuICAgIH1cclxuXHJcbiAgICBjaG9vc2VOZXh0U3RhdGUoZnJvbVN0YXRlOiBTdGF0ZXMpOiBTdGF0ZXMge1xyXG4gICAgICAgIC8vIFdvcmsgb3V0IG5leHQgc3RhdGVcclxuICAgICAgICB2YXIgcG9zc2libGVOZXh0U3RhdGVzOiBTdGF0ZXNbXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLnNlcXVlbmNlLnNlcXVlbmNlU3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcXVlbmNlLnNlcXVlbmNlU3RhdGVzW2ldLnN0YXRlID09PSBmcm9tU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlcyA9IHRoaXMuc2VxdWVuY2Uuc2VxdWVuY2VTdGF0ZXNbaV0ucG9zc2libGVOZXh0U3RhdGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcG9zc2libGVOZXh0U3RhdGVzKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdGF0ZUV4Y2VwdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByYW5kb21seSBjaG9vc2UgdGhlIG5leHQgc3RhdGVcclxuICAgICAgICBjb25zdCBpZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZU5leHRTdGF0ZXMubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcG9zc2libGVOZXh0U3RhdGVzW2lkeF07XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dEZyYW1lKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZS5ob3Jpem9udGFsRGlyZWN0aW9uID09PSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5mYWNlTGVmdCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50U3RhdGUuaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmZhY2VSaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldEFuaW1hdGlvbih0aGlzLmN1cnJlbnRTdGF0ZS5zcHJpdGVMYWJlbCk7XHJcblxyXG4gICAgICAgIC8vIFdoYXQncyBteSBidWRkeSBkb2luZz9cclxuICAgICAgICBpZiAodGhpcy5oYXNGcmllbmQoKSAmJiB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gIT09IFN0YXRlcy5jaGFzZUZyaWVuZCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZyaWVuZCgpLmlzUGxheWluZygpICYmICFpc1N0YXRlQWJvdmVHcm91bmQodGhpcy5jdXJyZW50U3RhdGVFbnVtKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUoU3RhdGVzLmNoYXNlRnJpZW5kLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IFN0YXRlcy5jaGFzZUZyaWVuZDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGZyYW1lUmVzdWx0ID0gdGhpcy5jdXJyZW50U3RhdGUubmV4dEZyYW1lKCk7XHJcbiAgICAgICAgaWYgKGZyYW1lUmVzdWx0ID09PSBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gSWYgcmVjb3ZlcmluZyBmcm9tIHN3aXBlLi5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9sZFN0YXRlICYmIHRoaXMuaG9sZFN0YXRlRW51bSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHRoaXMuaG9sZFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gdGhpcy5ob2xkU3RhdGVFbnVtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob2xkU3RhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvbGRTdGF0ZUVudW0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZShuZXh0U3RhdGUsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmcmFtZVJlc3VsdCA9PT0gRnJhbWVSZXN1bHQuc3RhdGVDYW5jZWwpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGVFbnVtID09PSBTdGF0ZXMuY2hhc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZShTdGF0ZXMuaWRsZVdpdGhCYWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKG5leHRTdGF0ZSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50U3RhdGVFbnVtID09PSBTdGF0ZXMuY2hhc2VGcmllbmQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZShTdGF0ZXMuaWRsZVdpdGhCYWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKG5leHRTdGF0ZSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFzRnJpZW5kKCkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZnJpZW5kICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnJpZW5kKCkgOiBJUGV0VHlwZSB7IFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcmllbmQhO1xyXG4gICAgfVxyXG5cclxuICAgIG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBtYWtlRnJpZW5kc1dpdGgoZnJpZW5kOiBJUGV0VHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuX2ZyaWVuZCA9IGZyaWVuZDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUoKSwgXCI6IEknbSBub3cgZnJpZW5kcyDinaTvuI8gd2l0aCBcIiwgZnJpZW5kLm5hbWUoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaXNQbGF5aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5ydW5SaWdodCB8fCB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5ydW5MZWZ0IDtcclxuICAgIH1cclxuXHJcbiAgICBlbW9qaSgpOiBzdHJpbmcgeyBcclxuICAgICAgICByZXR1cm4gXCLwn5C2XCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3Rvcm8gZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XHJcbiAgICBsYWJlbCA9IFwidG90b3JvXCI7XHJcbiAgICBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMubGllXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxpZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy53YWxrTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5zaXRJZGxlXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGUsIFN0YXRlcy5jbGltYldhbGxMZWZ0LCBTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jbGltYldhbGxMZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGxIYW5nTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxsSGFuZ0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuanVtcERvd25MZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmp1bXBEb3duTGVmdCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5sYW5kXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxhbmQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLmxpZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLndhbGtMZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICBlbW9qaSgpOiBzdHJpbmcgeyBcclxuICAgICAgICByZXR1cm4gXCLwn5C+XCI7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIENhdCBleHRlbmRzIEJhc2VQZXRUeXBlIHtcclxuICAgIGxhYmVsID0gXCJjYXRcIjtcclxuICAgIHNlcXVlbmNlID0ge1xyXG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxyXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlLCBTdGF0ZXMuY2xpbWJXYWxsTGVmdCwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLmNsaW1iV2FsbExlZnQsIFN0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jbGltYldhbGxMZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGxIYW5nTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxsSGFuZ0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuanVtcERvd25MZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmp1bXBEb3duTGVmdCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5sYW5kXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxhbmQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIGVtb2ppKCk6IHN0cmluZyB7IFxyXG4gICAgICAgIHJldHVybiBcIvCfkLFcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvZyBleHRlbmRzIEJhc2VQZXRUeXBlIHtcclxuICAgIGxhYmVsID0gXCJkb2dcIjtcclxuICAgIHNlcXVlbmNlID0ge1xyXG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxyXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodCwgU3RhdGVzLmxpZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5saWUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLmxpZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLmxpZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIGVtb2ppKCk6IHN0cmluZyB7IFxyXG4gICAgICAgIHJldHVybiBcIvCfkLZcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNuYWtlIGV4dGVuZHMgQmFzZVBldFR5cGUge1xyXG4gICAgbGFiZWwgPSBcInNuYWtlXCI7XHJcbiAgICBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZSwgU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIGVtb2ppKCk6IHN0cmluZyB7IFxyXG4gICAgICAgIHJldHVybiBcIvCfkI1cIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENsaXBweSBleHRlbmRzIEJhc2VQZXRUeXBlIHtcclxuICAgIGxhYmVsID0gXCJjbGlwcHlcIjtcclxuICAgIHNlcXVlbmNlID0ge1xyXG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxyXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICBlbW9qaSgpOiBzdHJpbmcgeyBcclxuICAgICAgICByZXR1cm4gXCLwn5OOXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdWJiZXJEdWNrIGV4dGVuZHMgQmFzZVBldFR5cGUge1xyXG4gICAgbGFiZWwgPSBcInJ1YmJlci1kdWNrXCI7XHJcbiAgICBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgZW1vamkoKTogc3RyaW5nIHsgXHJcbiAgICAgICAgcmV0dXJuIFwi8J+QpVwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JhYiBleHRlbmRzIEJhc2VQZXRUeXBlIHtcclxuICAgIGxhYmVsID0gXCJjcmFiXCI7XHJcbiAgICBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgZW1vamkoKTogc3RyaW5nIHsgXHJcbiAgICAgICAgcmV0dXJuIFwi8J+mgFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgWmFwcHkgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XHJcbiAgICBsYWJlbCA9IFwiemFwcHlcIjtcclxuICAgIHNlcXVlbmNlID0ge1xyXG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxyXG4gICAgICAgIHNlcXVlbmNlU3RhdGVzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5zaXRJZGxlXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdCwgU3RhdGVzLnJ1blJpZ2h0XVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICBlbW9qaSgpOiBzdHJpbmcgeyBcclxuICAgICAgICByZXR1cm4gXCLimqFcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJvY2t5IGV4dGVuZHMgQmFzZVBldFR5cGUge1xyXG4gICAgbGFiZWwgPSBcInJvY2t5XCI7XHJcbiAgICBzZXF1ZW5jZSA9IHtcclxuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcclxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnQsIFN0YXRlcy5ydW5SaWdodF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgZW1vamkoKTogc3RyaW5nIHsgXHJcbiAgICAgICAgcmV0dXJuIFwi4puwXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGV0RXhjZXB0aW9uIHtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UGV0TmFtZShjb2xsZWN0aW9uOiBNYXA8bnVtYmVyLCBzdHJpbmc+LCBsYWJlbDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA6IHN0cmluZyB7XHJcbiAgICBpZiAoY29sbGVjdGlvbi5oYXMoY291bnQpKXtcclxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5nZXQoY291bnQpITtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsICsgY291bnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQZXQocGV0VHlwZTogc3RyaW5nLCBlbDogSFRNTEltYWdlRWxlbWVudCwgY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudCwgc2l6ZTogUGV0U2l6ZSwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlciwgcGV0Um9vdDogc3RyaW5nLCBmbG9vcjogbnVtYmVyLCBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsIGNvdW50OiBudW1iZXIpIDogSVBldFR5cGUge1xyXG4gICAgaWYgKHBldFR5cGUgPT09IFwidG90b3JvXCIpe1xyXG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtuYW1lID0gZ2V0UGV0TmFtZShUT1RPUk9fTkFNRVMsIFBldFR5cGUudG90b3JvLCBjb3VudCk7fVxyXG4gICAgICAgIHJldHVybiBuZXcgVG90b3JvKGVsLCBjb2xsaXNpb24sIHNpemUsIGxlZnQsIGJvdHRvbSwgcGV0Um9vdCwgZmxvb3IsIG5hbWUsIFBldFNwZWVkLm5vcm1hbCk7XHJcbiAgICB9XHJcbiAgICBpZiAocGV0VHlwZSA9PT0gXCJjYXRcIil7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge25hbWUgPSBnZXRQZXROYW1lKENBVF9OQU1FUywgUGV0VHlwZS5jYXQsIGNvdW50KTt9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDYXQoZWwsIGNvbGxpc2lvbiwgc2l6ZSwgbGVmdCwgYm90dG9tLCBwZXRSb290LCBmbG9vciwgbmFtZSwgUGV0U3BlZWQubm9ybWFsKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBldFR5cGUgPT09IFwiZG9nXCIpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7bmFtZSA9IGdldFBldE5hbWUoRE9HX05BTUVTLCBQZXRUeXBlLmRvZywgY291bnQpO31cclxuICAgICAgICByZXR1cm4gbmV3IERvZyhlbCwgY29sbGlzaW9uLCBzaXplLCBsZWZ0LCBib3R0b20sIHBldFJvb3QsIGZsb29yLCBuYW1lLCBQZXRTcGVlZC5ub3JtYWwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGV0VHlwZSA9PT0gXCJzbmFrZVwiKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge25hbWUgPSBnZXRQZXROYW1lKFNOQUtFX05BTUVTLCBQZXRUeXBlLnNuYWtlLCBjb3VudCk7fVxyXG4gICAgICAgIHJldHVybiBuZXcgU25ha2UoZWwsIGNvbGxpc2lvbiwgc2l6ZSwgbGVmdCwgYm90dG9tLCBwZXRSb290LCBmbG9vciwgbmFtZSwgUGV0U3BlZWQudmVyeVNsb3cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGV0VHlwZSA9PT0gXCJjbGlwcHlcIikge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtuYW1lID0gZ2V0UGV0TmFtZShDTElQUFlfTkFNRVMsIFBldFR5cGUuY2xpcHB5LCBjb3VudCk7fVxyXG4gICAgICAgIHJldHVybiBuZXcgQ2xpcHB5KGVsLCBjb2xsaXNpb24sIHNpemUsIGxlZnQsIGJvdHRvbSwgcGV0Um9vdCwgZmxvb3IsIG5hbWUsIFBldFNwZWVkLnNsb3cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGV0VHlwZSA9PT0gXCJjcmFiXCIpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7bmFtZSA9IGdldFBldE5hbWUoQ1JBQl9OQU1FUywgUGV0VHlwZS5jcmFiLCBjb3VudCk7fVxyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhYihlbCwgY29sbGlzaW9uLCBzaXplLCBsZWZ0LCBib3R0b20sIHBldFJvb3QsIGZsb29yLCBuYW1lLCBQZXRTcGVlZC5zbG93KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBldFR5cGUgPT09IFwicm9ja3lcIikge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtuYW1lID0gZ2V0UGV0TmFtZShST0NLWV9OQU1FUywgUGV0VHlwZS5yb2NreSwgY291bnQpO31cclxuICAgICAgICByZXR1cm4gbmV3IFJvY2t5KGVsLCBjb2xsaXNpb24sIHNpemUsIGxlZnQsIGJvdHRvbSwgcGV0Um9vdCwgZmxvb3IsIG5hbWUsIFBldFNwZWVkLnN0aWxsKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBldFR5cGUgPT09IFwicnViYmVyLWR1Y2tcIikge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtuYW1lID0gZ2V0UGV0TmFtZShEVUNLX05BTUVTLCBQZXRUeXBlLnJ1YmJlcmR1Y2ssIGNvdW50KTt9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdWJiZXJEdWNrKGVsLCBjb2xsaXNpb24sIHNpemUsIGxlZnQsIGJvdHRvbSwgcGV0Um9vdCwgZmxvb3IsIG5hbWUsIFBldFNwZWVkLmZhc3QpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGV0VHlwZSA9PT0gXCJ6YXBweVwiKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge25hbWUgPSBnZXRQZXROYW1lKFpBUFBZX05BTUVTLCBQZXRUeXBlLnphcHB5LCBjb3VudCk7fVxyXG4gICAgICAgIHJldHVybiBuZXcgWmFwcHkoZWwsIGNvbGxpc2lvbiwgc2l6ZSwgbGVmdCwgYm90dG9tLCBwZXRSb290LCBmbG9vciwgbmFtZSwgUGV0U3BlZWQudmVyeUZhc3QpO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEludmFsaWRQZXRFeGNlcHRpb24oKTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgUGV0Q29sb3IsIFBldFR5cGUgfSBmcm9tIFwiLi4vY29tbW9uL3R5cGVzXCI7XHJcbmltcG9ydCB7IElQZXRUeXBlIH0gZnJvbSBcIi4vcGV0c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBldEluc3RhbmNlU3RhdGUge1xyXG4gICAgY3VycmVudFN0YXRlRW51bTogU3RhdGVzIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGV0RWxlbWVudFN0YXRlIHtcclxuICAgIHBldFN0YXRlOiBQZXRJbnN0YW5jZVN0YXRlIHwgdW5kZWZpbmVkO1xyXG4gICAgcGV0VHlwZTogUGV0VHlwZSB8IHVuZGVmaW5lZDtcclxuICAgIHBldENvbG9yOiBQZXRDb2xvciB8IHVuZGVmaW5lZDtcclxuICAgIGVsTGVmdDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgZWxCb3R0b206IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIHBldE5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIHBldEZyaWVuZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGV0UGFuZWxTdGF0ZSB7XHJcbiAgICBwZXRTdGF0ZXM6IEFycmF5PFBldEVsZW1lbnRTdGF0ZT4gfCB1bmRlZmluZWQ7XHJcbiAgICBwZXRDb3VudGVyOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZW51bSBIb3Jpem9udGFsRGlyZWN0aW9uIHtcclxuICAgIGxlZnQsXHJcbiAgICByaWdodCxcclxuICAgIG5hdHVyYWwgLy8gTm8gY2hhbmdlIHRvIGN1cnJlbnQgZGlyZWN0aW9uXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIFN0YXRlcyB7XHJcbiAgICBzaXRJZGxlID0gXCJzaXQtaWRsZVwiLFxyXG4gICAgd2Fsa1JpZ2h0ID0gXCJ3YWxrLXJpZ2h0XCIsXHJcbiAgICB3YWxrTGVmdCA9IFwid2Fsay1sZWZ0XCIsXHJcbiAgICBydW5SaWdodCA9IFwicnVuLXJpZ2h0XCIsXHJcbiAgICBydW5MZWZ0ID0gXCJydW4tbGVmdFwiLFxyXG4gICAgbGllID0gXCJsaWVcIixcclxuICAgIHdhbGxIYW5nTGVmdCA9IFwid2FsbC1oYW5nLWxlZnRcIixcclxuICAgIGNsaW1iV2FsbExlZnQgPSBcImNsaW1iLXdhbGwtbGVmdFwiLFxyXG4gICAganVtcERvd25MZWZ0ID0gXCJqdW1wLWRvd24tbGVmdFwiLFxyXG4gICAgbGFuZCA9IFwibGFuZFwiLFxyXG4gICAgc3dpcGUgPSBcInN3aXBlXCIsXHJcbiAgICBpZGxlV2l0aEJhbGwgPSBcImlkbGUtd2l0aC1iYWxsXCIsXHJcbiAgICBjaGFzZSA9IFwiY2hhc2VcIixcclxuICAgIGNoYXNlRnJpZW5kID0gXCJjaGFzZS1mcmllbmRcIlxyXG59XHJcblxyXG5leHBvcnQgZW51bSBGcmFtZVJlc3VsdCB7IFxyXG4gICAgc3RhdGVDb250aW51ZSxcclxuICAgIHN0YXRlQ29tcGxldGUsXHJcbiAgICAvLyBTcGVjaWFsIHN0YXRlc1xyXG4gICAgc3RhdGVDYW5jZWxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhbGxTdGF0ZSB7XHJcbiAgICBjeDogbnVtYmVyO1xyXG4gICAgY3k6IG51bWJlcjtcclxuICAgIHZ4OiBudW1iZXI7XHJcbiAgICB2eTogbnVtYmVyO1xyXG4gICAgcGF1c2VkOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGN4OiBudW1iZXIsIGN5OiBudW1iZXIsIHZ4OiBudW1iZXIsIHZ5OiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuY3ggPSBjeDtcclxuICAgICAgICB0aGlzLmN5ID0gY3k7XHJcbiAgICAgICAgdGhpcy52eCA9IHZ4O1xyXG4gICAgICAgIHRoaXMudnkgPSB2eTtcclxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdGF0ZUFib3ZlR3JvdW5kKHN0YXRlOiBTdGF0ZXMpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoc3RhdGUgPT09IFN0YXRlcy5jbGltYldhbGxMZWZ0IHx8XHJcbiAgICAgICAgICAgIHN0YXRlID09PSBTdGF0ZXMuanVtcERvd25MZWZ0IHx8IFxyXG4gICAgICAgICAgICBzdGF0ZSA9PT0gU3RhdGVzLmxhbmQgfHxcclxuICAgICAgICAgICAgc3RhdGUgPT09IFN0YXRlcy53YWxsSGFuZ0xlZnQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVN0YXRlKHN0YXRlOiBzdHJpbmcsIHBldDogSVBldFR5cGUpOiBJU3RhdGUge1xyXG4gICAgc3dpdGNoKHN0YXRlKXtcclxuICAgICAgICBjYXNlIFN0YXRlcy5zaXRJZGxlOiByZXR1cm4gbmV3IFNpdElkbGVTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLndhbGtSaWdodDogcmV0dXJuIG5ldyBXYWxrUmlnaHRTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLndhbGtMZWZ0OiByZXR1cm4gbmV3IFdhbGtMZWZ0U3RhdGUocGV0KTtcclxuICAgICAgICBjYXNlIFN0YXRlcy5ydW5SaWdodDogcmV0dXJuIG5ldyBSdW5SaWdodFN0YXRlKHBldCk7XHJcbiAgICAgICAgY2FzZSBTdGF0ZXMucnVuTGVmdDogcmV0dXJuIG5ldyBSdW5MZWZ0U3RhdGUocGV0KTtcclxuICAgICAgICBjYXNlIFN0YXRlcy5saWU6IHJldHVybiBuZXcgTGllU3RhdGUocGV0KTtcclxuICAgICAgICBjYXNlIFN0YXRlcy53YWxsSGFuZ0xlZnQ6IHJldHVybiBuZXcgV2FsbEhhbmdMZWZ0U3RhdGUocGV0KTtcclxuICAgICAgICBjYXNlIFN0YXRlcy5jbGltYldhbGxMZWZ0OiByZXR1cm4gbmV3IENsaW1iV2FsbExlZnRTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLmp1bXBEb3duTGVmdDogcmV0dXJuIG5ldyBKdW1wRG93bkxlZnRTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLmxhbmQ6IHJldHVybiBuZXcgTGFuZFN0YXRlKHBldCk7XHJcbiAgICAgICAgY2FzZSBTdGF0ZXMuc3dpcGU6IHJldHVybiBuZXcgU3dpcGVTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLmlkbGVXaXRoQmFsbDogcmV0dXJuIG5ldyBJZGxlV2l0aEJhbGxTdGF0ZShwZXQpO1xyXG4gICAgICAgIGNhc2UgU3RhdGVzLmNoYXNlRnJpZW5kOiByZXR1cm4gbmV3IENoYXNlRnJpZW5kU3RhdGUocGV0KTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgU2l0SWRsZVN0YXRlKHBldCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRlIHtcclxuICAgIGxhYmVsOiBzdHJpbmdcclxuICAgIHNwcml0ZUxhYmVsOiBzdHJpbmdcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb246IEhvcml6b250YWxEaXJlY3Rpb25cclxuICAgIHBldDogSVBldFR5cGU7XHJcbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHRcclxufVxyXG5cclxuY2xhc3MgQWJzdHJhY3RTdGF0aWNTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XHJcbiAgICBsYWJlbCA9IFN0YXRlcy5zaXRJZGxlO1xyXG4gICAgaWRsZUNvdW50ZXI6IG51bWJlcjtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJpZGxlXCI7XHJcbiAgICBob2xkVGltZSA9IDUwO1xyXG4gICAgcGV0OiBJUGV0VHlwZTtcclxuICAgIFxyXG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy5wZXQgPSBwZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dEZyYW1lKCkgOiBGcmFtZVJlc3VsdCB7XHJcbiAgICAgICAgdGhpcy5pZGxlQ291bnRlcisrO1xyXG4gICAgICAgIGlmICh0aGlzLmlkbGVDb3VudGVyID4gdGhpcy5ob2xkVGltZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTaXRJZGxlU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLnNpdElkbGU7XHJcbiAgICBzcHJpdGVMYWJlbCA9IFwiaWRsZVwiO1xyXG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XHJcbiAgICBob2xkVGltZSA9IDUwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGllU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLmxpZTtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJsaWVcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLnJpZ2h0O1xyXG4gICAgaG9sZFRpbWUgPSA1MDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdhbGxIYW5nTGVmdFN0YXRlIGV4dGVuZHMgQWJzdHJhY3RTdGF0aWNTdGF0ZSB7XHJcbiAgICBsYWJlbCA9IFN0YXRlcy53YWxsSGFuZ0xlZnQ7XHJcbiAgICBzcHJpdGVMYWJlbCA9IFwid2FsbGdyYWJcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICBob2xkVGltZSA9IDUwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGFuZFN0YXRlIGV4dGVuZHMgQWJzdHJhY3RTdGF0aWNTdGF0ZSB7XHJcbiAgICBsYWJlbCA9IFN0YXRlcy5sYW5kO1xyXG4gICAgc3ByaXRlTGFiZWwgPSBcImxhbmRcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICBob2xkVGltZSA9IDEwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3dpcGVTdGF0ZSBleHRlbmRzIEFic3RyYWN0U3RhdGljU3RhdGUge1xyXG4gICAgbGFiZWwgPSBTdGF0ZXMuc3dpcGU7XHJcbiAgICBzcHJpdGVMYWJlbCA9IFwic3dpcGVcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLm5hdHVyYWw7XHJcbiAgICBob2xkVGltZSA9IDMwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSWRsZVdpdGhCYWxsU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLmlkbGVXaXRoQmFsbDtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJ3aXRoX2JhbGxcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICBob2xkVGltZSA9IDMwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV2Fsa1JpZ2h0U3RhdGUgaW1wbGVtZW50cyBJU3RhdGUge1xyXG4gICAgbGFiZWwgPSBTdGF0ZXMud2Fsa1JpZ2h0O1xyXG4gICAgcGV0OiBJUGV0VHlwZTtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJ3YWxrXCI7XHJcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcclxuICAgIGxlZnRCb3VuZGFyeTogbnVtYmVyO1xyXG4gICAgc3BlZWRNdWx0aXBsaWVyID0gMTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0Qm91bmRhcnkgPSBNYXRoLmZsb29yKHdpbmRvdy5pbm5lcldpZHRoICogMC45NSk7XHJcbiAgICAgICAgdGhpcy5wZXQgPSBwZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dEZyYW1lKCkgOiBGcmFtZVJlc3VsdCB7XHJcbiAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KHRoaXMucGV0LmxlZnQoKSArIHRoaXMucGV0LnNwZWVkKCkgKiB0aGlzLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgaWYgKHRoaXMucGV0LmxlZnQoKSA+PSB0aGlzLmxlZnRCb3VuZGFyeSAtIHRoaXMucGV0LndpZHRoKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV2Fsa0xlZnRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XHJcbiAgICBsYWJlbCA9IFN0YXRlcy53YWxrTGVmdDtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJ3YWxrXCI7XHJcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xyXG4gICAgcGV0OiBJUGV0VHlwZTtcclxuICAgIHNwZWVkTXVsdGlwbGllciA9IDE7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xyXG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRGcmFtZSgpIDogRnJhbWVSZXN1bHQge1xyXG4gICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdCh0aGlzLnBldC5sZWZ0KCkgLSB0aGlzLnBldC5zcGVlZCgpICogdGhpcy5zcGVlZE11bHRpcGxpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLnBldC5sZWZ0KCkgPD0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW5SaWdodFN0YXRlIGV4dGVuZHMgV2Fsa1JpZ2h0U3RhdGUge1xyXG4gICAgbGFiZWwgPSBTdGF0ZXMucnVuUmlnaHQ7XHJcbiAgICBzcHJpdGVMYWJlbCA9IFwid2Fsa19mYXN0XCI7XHJcbiAgICBzcGVlZE11bHRpcGxpZXIgPSAxLjY7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW5MZWZ0U3RhdGUgZXh0ZW5kcyBXYWxrTGVmdFN0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLnJ1bkxlZnQ7XHJcbiAgICBzcHJpdGVMYWJlbCA9IFwid2Fsa19mYXN0XCI7XHJcbiAgICBzcGVlZE11bHRpcGxpZXIgPSAxLjY7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDaGFzZVN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLmNoYXNlO1xyXG4gICAgc3ByaXRlTGFiZWwgPSBcInJ1blwiO1xyXG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcclxuICAgIGJhbGxTdGF0ZTogQmFsbFN0YXRlO1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHBldDogSVBldFR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSwgYmFsbFN0YXRlOiBCYWxsU3RhdGUsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wZXQgPSBwZXQ7XHJcbiAgICAgICAgdGhpcy5iYWxsU3RhdGUgPSBiYWxsU3RhdGU7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dEZyYW1lKCkgOiBGcmFtZVJlc3VsdCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmFsbFN0YXRlLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDYW5jZWw7IC8vIEJhbGwgaXMgYWxyZWFkeSBjYXVnaHRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGV0LmxlZnQoKSA+IHRoaXMuYmFsbFN0YXRlLmN4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcclxuICAgICAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KHRoaXMucGV0LmxlZnQoKSAtIHRoaXMucGV0LnNwZWVkKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdCh0aGlzLnBldC5sZWZ0KCkgKyB0aGlzLnBldC5zcGVlZCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcy5oZWlnaHQgLSB0aGlzLmJhbGxTdGF0ZS5jeSA8ICh0aGlzLnBldC53aWR0aCgpICsgdGhpcy5wZXQuZmxvb3IoKSkgJiZcclxuICAgICAgICAgICAgdGhpcy5iYWxsU3RhdGUuY3ggPCB0aGlzLnBldC5sZWZ0KCkgJiZcclxuICAgICAgICAgICAgdGhpcy5wZXQubGVmdCgpIDwgdGhpcy5iYWxsU3RhdGUuY3ggKyAxNSkge1xyXG4gICAgICAgICAgICAvLyBoaWRlIGJhbGxcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxTdGF0ZS5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDaGFzZUZyaWVuZFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLmNoYXNlRnJpZW5kO1xyXG4gICAgc3ByaXRlTGFiZWwgPSBcInJ1blwiO1xyXG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcclxuICAgIHBldDogSVBldFR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGV0OiBJUGV0VHlwZSkge1xyXG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRGcmFtZSgpIDogRnJhbWVSZXN1bHQge1xyXG4gICAgICAgIGlmICghdGhpcy5wZXQuZnJpZW5kKCkuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ2FuY2VsOyAvLyBGcmllbmQgaXMgbm8gbG9uZ2VyIHBsYXlpbmcuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBldC5sZWZ0KCkgPiB0aGlzLnBldC5mcmllbmQoKS5sZWZ0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xyXG4gICAgICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQodGhpcy5wZXQubGVmdCgpIC0gdGhpcy5wZXQuc3BlZWQoKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcclxuICAgICAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KHRoaXMucGV0LmxlZnQoKSArIHRoaXMucGV0LnNwZWVkKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDbGltYldhbGxMZWZ0U3RhdGUgaW1wbGVtZW50cyBJU3RhdGUge1xyXG4gICAgbGFiZWwgPSBTdGF0ZXMuY2xpbWJXYWxsTGVmdDtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJ3YWxsY2xpbWJcIjtcclxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XHJcbiAgICBwZXQ6IElQZXRUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBldDogSVBldFR5cGUpIHtcclxuICAgICAgICB0aGlzLnBldCA9IHBldDtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0RnJhbWUoKSA6IEZyYW1lUmVzdWx0IHtcclxuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkJvdHRvbSh0aGlzLnBldC5ib3R0b20oKSArIDEpO1xyXG4gICAgICAgIGlmICh0aGlzLnBldC5ib3R0b20oKSA+PSAxMDApIHtcclxuICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb250aW51ZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEp1bXBEb3duTGVmdFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcclxuICAgIGxhYmVsID0gU3RhdGVzLmp1bXBEb3duTGVmdDtcclxuICAgIHNwcml0ZUxhYmVsID0gXCJmYWxsX2Zyb21fZ3JhYlwiO1xyXG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XHJcbiAgICBwZXQ6IElQZXRUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBldDogSVBldFR5cGUpIHtcclxuICAgICAgICB0aGlzLnBldCA9IHBldDtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0RnJhbWUoKSA6IEZyYW1lUmVzdWx0IHtcclxuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkJvdHRvbSh0aGlzLnBldC5ib3R0b20oKSAtIDUpO1xyXG4gICAgICAgIGlmICh0aGlzLnBldC5ib3R0b20oKSA8PSB0aGlzLnBldC5mbG9vcigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGV0LnBvc2l0aW9uQm90dG9tKHRoaXMucGV0LmZsb29yKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIFRoaXMgc2NyaXB0IHdpbGwgYmUgcnVuIHdpdGhpbiB0aGUgd2VidmlldyBpdHNlbGZcclxuaW1wb3J0IHsgUGV0U2l6ZSwgUGV0Q29sb3IsIFBldFR5cGUsIFRoZW1lLCBDb2xvclRoZW1lS2luZCwgV2Vidmlld01lc3NhZ2UgfSBmcm9tICcuLi9jb21tb24vdHlwZXMnO1xyXG5pbXBvcnQgeyBjcmVhdGVQZXQsIElQZXRUeXBlLCBJbnZhbGlkUGV0RXhjZXB0aW9uLCBQZXRDb2xsZWN0aW9uLCBQZXRFbGVtZW50LCBJUGV0Q29sbGVjdGlvbiB9IGZyb20gJy4vcGV0cyc7XHJcbmltcG9ydCB7IEJhbGxTdGF0ZSwgQ2hhc2VGcmllbmRTdGF0ZSwgUGV0RWxlbWVudFN0YXRlLCBQZXRJbnN0YW5jZVN0YXRlLCBQZXRQYW5lbFN0YXRlLCBTdGF0ZXMgfSBmcm9tICcuL3N0YXRlcyc7XHJcblxyXG4vKiBUaGlzIGlzIGhvdyB0aGUgVlMgQ29kZSBBUEkgY2FuIGJlIGludm9rZWQgZnJvbSB0aGUgcGFuZWwgKi9cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBWc2NvZGVTdGF0ZUFwaSB7IFxyXG4gICAgZ2V0U3RhdGUoKSA6IFBldFBhbmVsU3RhdGU7IC8vIEFQSSBpcyBhY3R1YWxseSBBbnksIGJ1dCB3ZSB3YW50IGl0IHRvIGJlIHR5cGVkLlxyXG4gICAgc2V0U3RhdGUoc3RhdGU6IFBldFBhbmVsU3RhdGUpOiB2b2lkO1xyXG4gICAgcG9zdE1lc3NhZ2UobWVzc2FnZTogV2Vidmlld01lc3NhZ2UpOiB2b2lkO1xyXG4gIH1cclxuICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgIGFjcXVpcmVWc0NvZGVBcGkoKTogVnNjb2RlU3RhdGVBcGk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCB2c2NvZGUgPSB3aW5kb3cuYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxudmFyIGFsbFBldHM6IElQZXRDb2xsZWN0aW9uID0gbmV3IFBldENvbGxlY3Rpb24oKTtcclxudmFyIHBldENvdW50ZXI6IG51bWJlcjtcclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJhbGxSYWRpdXMoc2l6ZTogUGV0U2l6ZSk6IG51bWJlcntcclxuICBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5uYW5vKXtcclxuICAgIHJldHVybiAyO1xyXG4gIH0gZWxzZSBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5tZWRpdW0pe1xyXG4gICAgcmV0dXJuIDQ7XHJcbiAgfSBlbHNlIGlmIChzaXplID09PSBQZXRTaXplLmxhcmdlKXtcclxuICAgIHJldHVybiA4O1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMTsgLy8gU2hydWdcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUZsb29yKHNpemU6IFBldFNpemUsIHRoZW1lOiBUaGVtZSk6IG51bWJlciB7XHJcbiAgc3dpdGNoICh0aGVtZSl7XHJcbiAgICBjYXNlIFRoZW1lLmZvcmVzdDpcclxuICAgICAgc3dpdGNoIChzaXplKXtcclxuICAgICAgICBjYXNlIFBldFNpemUubWVkaXVtOlxyXG4gICAgICAgICAgcmV0dXJuIDQwO1xyXG4gICAgICAgIGNhc2UgUGV0U2l6ZS5sYXJnZTpcclxuICAgICAgICAgIHJldHVybiA2NTtcclxuICAgICAgICBjYXNlIFBldFNpemUubmFubzpcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcmV0dXJuIDIzO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIFRoZW1lLmNhc3RsZTpcclxuICAgICAgc3dpdGNoIChzaXplKXtcclxuICAgICAgICBjYXNlIFBldFNpemUubWVkaXVtOlxyXG4gICAgICAgICAgcmV0dXJuIDgwO1xyXG4gICAgICAgIGNhc2UgUGV0U2l6ZS5sYXJnZTpcclxuICAgICAgICAgIHJldHVybiAxMjA7XHJcbiAgICAgICAgY2FzZSBQZXRTaXplLm5hbm86XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiA0NTtcclxuICAgICAgfVxyXG4gIH1cclxuICByZXR1cm4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTW91c2VPdmVyKGU6IE1vdXNlRXZlbnQpe1xyXG4gIHZhciBlbCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBhbGxQZXRzLnBldHMoKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgaWYgKGVsZW1lbnQuY29sbGlzaW9uID09PSBlbCl7XHJcbiAgICAgIGlmICghZWxlbWVudC5wZXQuY2FuU3dpcGUoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBlbGVtZW50LnBldC5zd2lwZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydEFuaW1hdGlvbnMoY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudCwgcGV0OiBJUGV0VHlwZSkge1xyXG4gIGNvbGxpc2lvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGhhbmRsZU1vdXNlT3Zlcik7XHJcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgdmFyIHVwZGF0ZXMgPSBhbGxQZXRzLnNlZWtOZXdGcmllbmRzKCk7XHJcbiAgICB1cGRhdGVzLmZvckVhY2gobWVzc2FnZSA9PiB7XHJcbiAgICAgIHZzY29kZS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgdGV4dDogbWVzc2FnZSxcclxuICAgICAgICBjb21tYW5kOiAnaW5mbydcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHBldC5uZXh0RnJhbWUoKTtcclxuICAgIHNhdmVTdGF0ZSgpO1xyXG4gIH0sIDEwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBldFRvUGFuZWwocGV0VHlwZTogUGV0VHlwZSwgYmFzZVBldFVyaTogc3RyaW5nLCBwZXRDb2xvcjogUGV0Q29sb3IsIHBldFNpemU6IFBldFNpemUsIGxlZnQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGZsb29yOiBudW1iZXIsIG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFBldEVsZW1lbnQge1xyXG4gIHZhciBwZXRTcHJpdGVFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICBwZXRTcHJpdGVFbGVtZW50LmNsYXNzTmFtZSA9IFwicGV0XCI7XHJcbiAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGV0c0NvbnRhaW5lclwiKSBhcyBIVE1MRGl2RWxlbWVudCkuYXBwZW5kQ2hpbGQocGV0U3ByaXRlRWxlbWVudCk7XHJcblxyXG4gIHZhciBjb2xsaXNpb25FbGVtZW50OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sbGlzaW9uRWxlbWVudC5jbGFzc05hbWUgPSBcImNvbGxpc2lvblwiO1xyXG4gIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBldHNDb250YWluZXJcIikgYXMgSFRNTERpdkVsZW1lbnQpLmFwcGVuZENoaWxkKGNvbGxpc2lvbkVsZW1lbnQpO1xyXG5cclxuICBjb25zdCByb290ID0gYmFzZVBldFVyaSArICcvJyArIHBldFR5cGUgKyAnLycgKyBwZXRDb2xvcjtcclxuICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG5ldyBwZXQgOiBcIiwgcGV0VHlwZSwgcm9vdCk7XHJcbiAgdmFyIG5ld1BldCA9IGNyZWF0ZVBldChwZXRUeXBlLCBwZXRTcHJpdGVFbGVtZW50LCBjb2xsaXNpb25FbGVtZW50LCBwZXRTaXplLCBsZWZ0LCBib3R0b20sIHJvb3QsIGZsb29yLCBuYW1lLCBwZXRDb3VudGVyKTtcclxuICBwZXRDb3VudGVyICsrIDtcclxuICBzdGFydEFuaW1hdGlvbnMoY29sbGlzaW9uRWxlbWVudCwgbmV3UGV0KTtcclxuICByZXR1cm4gbmV3IFBldEVsZW1lbnQocGV0U3ByaXRlRWxlbWVudCwgY29sbGlzaW9uRWxlbWVudCwgbmV3UGV0LCBwZXRDb2xvciwgcGV0VHlwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVTdGF0ZSgpe1xyXG4gIHZhciBzdGF0ZSA9IG5ldyBQZXRQYW5lbFN0YXRlKCk7XHJcbiAgc3RhdGUucGV0U3RhdGVzID0gbmV3IEFycmF5KCk7XHJcblxyXG4gIGFsbFBldHMucGV0cygpLmZvckVhY2gocGV0SXRlbSA9PiB7XHJcbiAgICBzdGF0ZS5wZXRTdGF0ZXMhLnB1c2goe1xyXG4gICAgICBwZXROYW1lOiBwZXRJdGVtLnBldC5uYW1lKCksXHJcbiAgICAgIHBldENvbG9yOiBwZXRJdGVtLmNvbG9yLFxyXG4gICAgICBwZXRUeXBlOiBwZXRJdGVtLnR5cGUsXHJcbiAgICAgIHBldFN0YXRlOiBwZXRJdGVtLnBldC5nZXRTdGF0ZSgpLFxyXG4gICAgICBwZXRGcmllbmQ6IHBldEl0ZW0ucGV0LmZyaWVuZCgpID8gcGV0SXRlbS5wZXQuZnJpZW5kKCkubmFtZSgpIDogdW5kZWZpbmVkLFxyXG4gICAgICBlbExlZnQ6IHBldEl0ZW0uZWwuc3R5bGUubGVmdCxcclxuICAgICAgZWxCb3R0b206IHBldEl0ZW0uZWwuc3R5bGUuYm90dG9tXHJcbiAgICB9KTtcclxuICB9KTtcclxuICBzdGF0ZS5wZXRDb3VudGVyID0gcGV0Q291bnRlcjtcclxuICB2c2NvZGUuc2V0U3RhdGUoc3RhdGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWNvdmVyU3RhdGUoYmFzZVBldFVyaTogc3RyaW5nLCBwZXRTaXplOiBQZXRTaXplLCBmbG9vcjogbnVtYmVyKXtcclxuICB2YXIgc3RhdGUgPSB2c2NvZGUuZ2V0U3RhdGUoKTtcclxuICBcclxuICBpZiAoc3RhdGUucGV0Q291bnRlciA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHN0YXRlLnBldENvdW50ZXIpKXtcclxuICAgIHBldENvdW50ZXIgPSAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwZXRDb3VudGVyID0gc3RhdGUucGV0Q291bnRlciE7XHJcbiAgfVxyXG5cclxuICB2YXIgcmVjb3ZlcnlNYXA6IE1hcDxJUGV0VHlwZSwgUGV0RWxlbWVudFN0YXRlPiA9IG5ldyBNYXAoKTtcclxuICBzdGF0ZS5wZXRTdGF0ZXMhLmZvckVhY2gocCA9PiB7XHJcbiAgICAvLyBGaXhlcyBhIGJ1ZyByZWxhdGVkIHRvIGR1Y2sgYW5pbWF0aW9uc1xyXG4gICAgaWYgKHAucGV0VHlwZSBhcyBzdHJpbmcgPT09IFwicnViYmVyIGR1Y2tcIikgeyhwLnBldFR5cGUgYXMgc3RyaW5nKSA9IFwicnViYmVyLWR1Y2tcIjt9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdmFyIG5ld1BldCA9IGFkZFBldFRvUGFuZWwoXHJcbiAgICAgICAgcC5wZXRUeXBlISwgXHJcbiAgICAgICAgYmFzZVBldFVyaSwgXHJcbiAgICAgICAgcC5wZXRDb2xvciEsIFxyXG4gICAgICAgIHBldFNpemUsIFxyXG4gICAgICAgIHBhcnNlSW50KHAuZWxMZWZ0ISksIFxyXG4gICAgICAgIHBhcnNlSW50KHAuZWxCb3R0b20hKSwgXHJcbiAgICAgICAgZmxvb3IsXHJcbiAgICAgICAgcC5wZXROYW1lKTtcclxuICAgICAgYWxsUGV0cy5wdXNoKG5ld1BldCk7XHJcbiAgICAgIHJlY292ZXJ5TWFwLnNldChuZXdQZXQucGV0LCBwKTtcclxuICAgIH0gY2F0Y2ggKEludmFsaWRQZXRFeGNlcHRpb24pe1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlN0YXRlIGhhZCBpbnZhbGlkIHBldCAoXCIgKyBwLnBldFR5cGUgKyBcIiksIGRpc2NhcmRpbmcuXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJlY292ZXJ5TWFwLmZvckVhY2goIChzdGF0ZSwgcGV0KSA9PiB7XHJcbiAgICAvLyBSZWNvdmVyIHByZXZpb3VzIHN0YXRlLlxyXG4gICAgcGV0LnJlY292ZXJTdGF0ZShzdGF0ZS5wZXRTdGF0ZSEpO1xyXG5cclxuICAgIC8vIFJlc29sdmUgZnJpZW5kIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciBmcmllbmQgPSB1bmRlZmluZWQ7XHJcbiAgICBpZiAoc3RhdGUucGV0RnJpZW5kKXtcclxuICAgICAgZnJpZW5kID0gYWxsUGV0cy5sb2NhdGUoc3RhdGUucGV0RnJpZW5kKTtcclxuICAgICAgaWYgKGZyaWVuZCl7XHJcbiAgICAgICAgcGV0LnJlY292ZXJGcmllbmQoZnJpZW5kLnBldCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmFuZG9tU3RhcnRQb3NpdGlvbigpIDogbnVtYmVyIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpbmRvdy5pbm5lcldpZHRoICogMC43KSk7XHJcbn1cclxuXHJcbmxldCBjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG5mdW5jdGlvbiBpbml0Q2FudmFzKCkge1xyXG4gIGNhbnZhcyA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBldENhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudCk7XHJcbiAgY3R4ID0gKGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTtcclxuICBjdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgY3R4LmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbn1cclxuXHJcbi8vIEl0IGNhbm5vdCBhY2Nlc3MgdGhlIG1haW4gVlMgQ29kZSBBUElzIGRpcmVjdGx5LlxyXG5leHBvcnQgZnVuY3Rpb24gcGV0UGFuZWxBcHAoYmFzZVBldFVyaTogc3RyaW5nLCB0aGVtZTogVGhlbWUsIHRoZW1lS2luZDogQ29sb3JUaGVtZUtpbmQsIHBldENvbG9yOiBQZXRDb2xvciwgcGV0U2l6ZTogUGV0U2l6ZSwgcGV0VHlwZTogUGV0VHlwZSkge1xyXG4gIGNvbnN0IGJhbGxSYWRpdXM6IG51bWJlciA9IGNhbGN1bGF0ZUJhbGxSYWRpdXMocGV0U2l6ZSk7XHJcbiAgdmFyIGZsb29yID0gMDtcclxuICAvLyBBcHBseSBUaGVtZSBiYWNrZ3JvdW5kc1xyXG4gIGlmICh0aGVtZSAhPT0gVGhlbWUubm9uZSl7XHJcbiAgICB2YXIgX3RoZW1lS2luZCA9IFwiXCI7XHJcbiAgICBzd2l0Y2ggKHRoZW1lS2luZCkge1xyXG4gICAgICBjYXNlIENvbG9yVGhlbWVLaW5kLkRhcms6XHJcbiAgICAgICAgX3RoZW1lS2luZCA9IFwiZGFya1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbG9yVGhlbWVLaW5kLkxpZ2h0OlxyXG4gICAgICAgIF90aGVtZUtpbmQgPSBcImxpZ2h0XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29sb3JUaGVtZUtpbmQuSGlnaENvbnRyYXN0OlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIF90aGVtZUtpbmQgPSBcImxpZ2h0XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiYXNlUGV0VXJpfS9iYWNrZ3JvdW5kcy8ke3RoZW1lfS9iYWNrZ3JvdW5kLSR7X3RoZW1lS2luZH0tJHtwZXRTaXplfS5wbmcnKWA7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcmVncm91bmRcIikhLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7YmFzZVBldFVyaX0vYmFja2dyb3VuZHMvJHt0aGVtZX0vZm9yZWdyb3VuZC0ke190aGVtZUtpbmR9LSR7cGV0U2l6ZX0ucG5nJylgO1xyXG4gICAgXHJcbiAgICBmbG9vciA9IGNhbGN1bGF0ZUZsb29yKHBldFNpemUsIHRoZW1lKTsgLy8gVGhlbWVzIGhhdmUgcGV0cyBhdCBhIHNwZWNpZmllZCBoZWlnaHQgZnJvbSB0aGUgZ3JvdW5kXHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9yZWdyb3VuZFwiKSEuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8vLyBCb3VuY2luZyBiYWxsIGNvbXBvbmVudHMsIGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjk5ODIzNDNcclxuICBjb25zdCBncmF2aXR5OiBudW1iZXIgPSAwLjIsIGRhbXBpbmc6IG51bWJlciA9IDAuOSwgdHJhY3Rpb246IG51bWJlciA9IDAuODtcclxuICB2YXIgYmFsbFN0YXRlOiBCYWxsU3RhdGU7XHJcblxyXG4gIGZ1bmN0aW9uIHJlc2V0QmFsbCgpIHtcclxuICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgYmFsbFN0YXRlID0gbmV3IEJhbGxTdGF0ZSgxMDAsIDEwMCwgMiwgNSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0aHJvd0JhbGwoKSB7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICBpZiAoIWJhbGxTdGF0ZS5wYXVzZWQpIHtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhyb3dCYWxsKTt9XHJcblxyXG4gICAgaWYgKGJhbGxTdGF0ZS5jeCArIGJhbGxSYWRpdXMgPj0gY2FudmFzLndpZHRoKSB7XHJcbiAgICAgIGJhbGxTdGF0ZS52eCA9IC1iYWxsU3RhdGUudnggKiBkYW1waW5nO1xyXG4gICAgICBiYWxsU3RhdGUuY3ggPSBjYW52YXMud2lkdGggLSBiYWxsUmFkaXVzO1xyXG4gICAgfSBlbHNlIGlmIChiYWxsU3RhdGUuY3ggLSBiYWxsUmFkaXVzIDw9IDApIHtcclxuICAgICAgYmFsbFN0YXRlLnZ4ID0gLWJhbGxTdGF0ZS52eCAqIGRhbXBpbmc7XHJcbiAgICAgIGJhbGxTdGF0ZS5jeCA9IGJhbGxSYWRpdXM7XHJcbiAgICB9XHJcbiAgICBpZiAoYmFsbFN0YXRlLmN5ICsgYmFsbFJhZGl1cyArIGZsb29yID49IChjYW52YXMuaGVpZ2h0KSkge1xyXG4gICAgICBiYWxsU3RhdGUudnkgPSAtYmFsbFN0YXRlLnZ5ICogZGFtcGluZztcclxuICAgICAgYmFsbFN0YXRlLmN5ID0gY2FudmFzLmhlaWdodCAtIGJhbGxSYWRpdXMgLSBmbG9vcjtcclxuICAgICAgLy8gdHJhY3Rpb24gaGVyZVxyXG4gICAgICBiYWxsU3RhdGUudnggKj0gdHJhY3Rpb247XHJcbiAgICB9IGVsc2UgaWYgKGJhbGxTdGF0ZS5jeSAtIGJhbGxSYWRpdXMgPD0gMCkge1xyXG4gICAgICBiYWxsU3RhdGUudnkgPSAtYmFsbFN0YXRlLnZ5ICogZGFtcGluZztcclxuICAgICAgYmFsbFN0YXRlLmN5ID0gYmFsbFJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICBiYWxsU3RhdGUudnkgKz0gZ3Jhdml0eTtcclxuXHJcbiAgICBiYWxsU3RhdGUuY3ggKz0gYmFsbFN0YXRlLnZ4O1xyXG4gICAgYmFsbFN0YXRlLmN5ICs9IGJhbGxTdGF0ZS52eTtcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGJhbGxTdGF0ZS5jeCwgYmFsbFN0YXRlLmN5LCBiYWxsUmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiIzJlZDg1MVwiO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCdTdGFydGluZyBwZXQgc2Vzc2lvbicsIHBldENvbG9yLCBiYXNlUGV0VXJpLCBwZXRUeXBlKTtcclxuICAvLyBOZXcgc2Vzc2lvblxyXG4gIHZhciBzdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpO1xyXG4gIGlmICghc3RhdGUpIHtcclxuICAgIGNvbnNvbGUubG9nKCdObyBzdGF0ZSwgc3RhcnRpbmcgYSBuZXcgc2Vzc2lvbi4nKTtcclxuICAgIHBldENvdW50ZXIgPSAxO1xyXG4gICAgYWxsUGV0cy5wdXNoKGFkZFBldFRvUGFuZWwocGV0VHlwZSwgYmFzZVBldFVyaSwgcGV0Q29sb3IsIHBldFNpemUsIHJhbmRvbVN0YXJ0UG9zaXRpb24oKSwgZmxvb3IsIGZsb29yLCB1bmRlZmluZWQpKTtcclxuICAgIHNhdmVTdGF0ZSgpO1xyXG4gIH0gZWxzZSB7IFxyXG4gICAgY29uc29sZS5sb2coJ1JlY292ZXJpbmcgc3RhdGUgLSAnLCBzdGF0ZSk7XHJcbiAgICByZWNvdmVyU3RhdGUoYmFzZVBldFVyaSwgcGV0U2l6ZSwgZmxvb3IpO1xyXG4gIH1cclxuXHJcbiAgaW5pdENhbnZhcygpO1xyXG5cclxuICAvLyBIYW5kbGUgbWVzc2FnZXMgc2VudCBmcm9tIHRoZSBleHRlbnNpb24gdG8gdGhlIHdlYnZpZXdcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTsgLy8gVGhlIGpzb24gZGF0YSB0aGF0IHRoZSBleHRlbnNpb24gc2VudFxyXG4gICAgc3dpdGNoIChtZXNzYWdlLmNvbW1hbmQpIHtcclxuICAgICAgY2FzZSBcInRocm93LWJhbGxcIjpcclxuICAgICAgICByZXNldEJhbGwoKTtcclxuICAgICAgICB0aHJvd0JhbGwoKTtcclxuICAgICAgICBhbGxQZXRzLnBldHMoKS5mb3JFYWNoKHBldEVsID0+IHtcclxuICAgICAgICAgIGlmIChwZXRFbC5wZXQuY2FuQ2hhc2UoKSl7XHJcbiAgICAgICAgICAgIHBldEVsLnBldC5jaGFzZShiYWxsU3RhdGUsIGNhbnZhcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJzcGF3bi1wZXRcIjpcclxuICAgICAgICBhbGxQZXRzLnB1c2goYWRkUGV0VG9QYW5lbChtZXNzYWdlLnR5cGUsIGJhc2VQZXRVcmksIG1lc3NhZ2UuY29sb3IsIHBldFNpemUsIHJhbmRvbVN0YXJ0UG9zaXRpb24oKSwgZmxvb3IsIGZsb29yLCB1bmRlZmluZWQpKTtcclxuICAgICAgICBzYXZlU3RhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInJlc2V0LXBldFwiOlxyXG4gICAgICAgIGFsbFBldHMucGV0cygpLmZvckVhY2gocGV0ID0+IHtcclxuICAgICAgICAgIHBldC5lbC5yZW1vdmUoKTtcclxuICAgICAgICAgIHBldC5jb2xsaXNpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWxsUGV0cy5yZXNldCgpO1xyXG4gICAgICAgIGFsbFBldHMucHVzaChhZGRQZXRUb1BhbmVsKG1lc3NhZ2UudHlwZSwgYmFzZVBldFVyaSwgbWVzc2FnZS5jb2xvciwgbWVzc2FnZS5zaXplLCByYW5kb21TdGFydFBvc2l0aW9uKCksIGZsb29yLCBmbG9vciwgdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgcGV0Q291bnRlciA9IDE7XHJcbiAgICAgICAgc2F2ZVN0YXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59O1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gIGluaXRDYW52YXMoKTtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=